{"version":3,"sources":["components/slide-content/slide-content.tsx","components/slider/slides.ts","components/slider/slider.tsx","components/header/header.tsx","components/main-block/main-block.tsx","components/footer/footer.tsx","components/pages/start-page/start-page.tsx","api/geocoder-api.ts","components/map-widget/map-widget.tsx","store/types.ts","api/api-factory.ts","store/actions.ts","utils/utils.ts","store/selectors.ts","components/step-two/model-option-enum.ts","components/step-one/step-one.tsx","components/order-details/order-buttons.ts","components/modal/modal.tsx","components/order-details-row/OrderDetailsRow.tsx","components/order-details/order-details.tsx","components/car-card/car-card.tsx","components/model-grid/model-grid.tsx","components/custom-radio/custom-radio.tsx","components/step-two/step-two.tsx","components/custom-checkbox/custom-checkbox.tsx","components/additional-rate-picker/additional-rate-picker.tsx","components/rate-picker/rate-picker.tsx","components/color-picker/color-picker.tsx","components/date-time-picker/date-time-picker.tsx","components/step-three/step-three.tsx","components/step-four/step-four.tsx","components/pages/order-page/order-page.tsx","components/burger-menu/burger-menu.tsx","components/menu/menu.tsx","components/pages/final-page/final-page.tsx","App.tsx","reportWebVitals.ts","store/locationReducer.ts","store/modelReducer.ts","store/orderReducer.ts","store/authReducer.ts","store/rootReducer.ts","store/store.ts","components/admin/custom-input/custom-input.tsx","components/pages/login-page/login-page.tsx","components/admin-order-table-row/admin-order-table-row.tsx","components/pagination/pagination.tsx","components/admin-orders-table/admin-orders-table.tsx","components/pages/admin-orders-page/admin-orders-page.tsx","components/admin-menu-item/admin-menu-item.tsx","components/admin-menu/admin-menu.tsx","components/pages/admin-error-page/admin-error-page.tsx","components/pages/admin-car-edit-page/admin-car-edit-page.tsx","components/admin-cars-table/admin-cars-table.tsx","components/pages/admin-cars-page/admin-cars-page.tsx","components/admin-cities-table/admin-cities-table.tsx","components/pages/admin-cities-page/admin-cities-page.tsx","components/pages/admin-interface-page/admin-interface-page.tsx","components/routes/logged-in-route.tsx","components/pages/admin-page/admin-page.tsx","index.tsx"],"names":["SlideContent","title","description","buttonClass","btnClass","classNames","className","slides","image","Slider","renderedSlides","map","slide","data-src","animation","Header","MainBlock","to","Footer","StartPage","requestCoords","geocode","a","fetch","process","response","ok","json","coords","GeoObjectCollection","featureMember","GeoObject","Point","pos","split","Number","parseFloat","Error","pointSelector","state","location","point","citySelector","city","MapWidget","points","useSelector","useState","placeMarks","setPlaceMarks","useEffect","coordsRequests","name","address","Promise","all","then","center","zoom","position","setPosition","query","apikey","placeMark","geometry","SET_CITY","SET_POINT","FETCH_CITIES","FETCH_POINTS","FETCH_CARS","FETCH_RATES","SET_MODEL","SET_COLOR","SET_RATE","SET_FULL_TANK","SET_CHILD_CHAIR","SET_RIGHT_WHEEL","SET_DATE_FROM","SET_DATE_TO","CHANGE_STAGE","SET_AVAILABLE","SET_PRICE","SET_ORDER","ROLLBACK_ORDER","AUTHENTICATE","UNAUTHENTICATE","baseUrl","authUrl","dbUrl","corsUrl","getHeaders","postHeaders","getInit","method","headers","postInit","loadCities","loadPoints","loadCars","loadRates","loadCarImage","path","blob","request","body","JSON","stringify","id","token","limit","page","Authorization","carId","username","password","Base64","encode","Math","random","toString","substr","setCity","type","payload","setPoint","setPrice","price","rollbackOrder","order","changeStage","value","setAvailable","setModel","car","authenticate","auth","prettifyPrice","num","join","customFilter","options","length","values","option","results","Fuzzy","filter","result","string","includes","ModelOptionEnum","modelSelector","model","colorSelector","color","rateSelector","rate","priceSelector","dateFromSelector","dateFrom","dateToSelector","dateTo","fullTankSelector","isFullTank","childChairSelector","isNeedChildChair","rightWheelSelector","isRightWheel","cityNameSelector","addressSelector","availableSelector","available","citiesSelector","cities","pointsSelector","carsSelector","cars","carIdSelector","ratesSelector","rates","orderSelector","authenticatedSelector","isAuthenticated","accessTokenSelector","accessToken","StepOne","storedCity","storedPoint","dispatch","useDispatch","filteredPoints","setFilteredPoints","data","newFilteredPoints","cityId","resetFields","useCallback","orderRequest","stage","undefined","rateTypeId","unit","changeCity","changePoint","newCity","find","displayOption","filterOption","maxVisible","customClasses","input","listItem","onOptionSelected","searchOptions","placeholder","orderButtons","Map","Modal","isHidden","onAccept","onDecline","modalClass","onClick","OrderDetailsRow","label","OrderDetails","totalPrice","history","useHistory","isPriceOK","setPriceOK","hidden","setHidden","button__disabled","button__red","priceClass","price__red","changeModalVisibility","prev","onModalAccept","makeOrder","orderStatusId","pointId","valueOf","rateId","res","push","onModalDecline","rentTime","useMemo","moment","diff","finalPrice","stringPrice","units","startPrice","time","max","isResultPriceOK","priceMax","priceMin","handleNextButtonClick","disabled","get","CarCard","itemClass","imgSrc","setImgSrc","thumbnail","URL","createObjectURL","data-id","src","alt","ModelGrid","filteredCars","handleCardClick","carCards","CustomRadio","defaultChecked","text","htmlFor","StepTwo","storedCar","modelOption1","modelOption","setModelOption","setFilteredCars","e","modelItem","target","closest","dataId","getAttribute","modelOption2","categoryId","modelOption3","handleChangeValue","parseInt","onChange","CustomCheckbox","checked","isRightWheelSelector","isNeedChildChairSelector","isFullTankSelector","AdditionalRatePicker","RatePicker","selectedRate","rateOptions","index","Fragment","ColorPicker","selectedColor","colorOptions","colors","concat","DateTimePicker","startDate","endDate","handleChangeStartDate","date","handleChangeEndDate","dateFormat","timeFormat","inputProps","StepThree","handleColorChangeValue","floor","setColor","handleChangeAdditionalRateValue","setFullTank","setChildChair","setRightWheel","handleChangeRateValue","replace","StepFour","number","format","stageSelector","OrderPage","tabIndex","setTabIndex","handleTabSelect","selectedIndex","onSelect","default","selectedClassName","disabledClassName","selected","BurgerMenu","isActive","changeActive","Menu","props","isOpen","href","FinalPage","orderId","useParams","getOrder","setOrder","App","showMenu","setShowMenu","exact","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","locationReducer","action","tank","mimetype","originalname","modelReducer","orderReducer","refreshToken","tokenType","userId","expiresIn","authReducer","rootReducer","combineReducers","store","createStore","compose","applyMiddleware","thunk","CustomInput","onValueChange","isError","inputClass","error","LoginPage","mail","setMail","setPassword","alert","useAlert","handleMailChange","handlePasswordChange","handleLogin","login","newAuth","access_token","user_id","token_type","refresh_token","expires_in","catch","show","handleEnterPress","key","onKeyPress","AdminOrderTableRow","Pagination","totalRecords","limitRecords","currentPage","neighbourPages","setCurrentPage","totalPages","ceil","handleLeftClick","handleRightClick","AdminOrdersTable","orders","setOrders","setTotalRecords","getOrders","count","AdminOrdersPage","AdminMenuItem","iconClassName","route","AdminMenu","AdminErrorPage","handleButtonClick","goBack","AdminCarEditPage","modelName","setModelName","modelType","setModelType","defaultModelName","setDefaultModelName","defaultModelType","setDefaultModelType","progress","setProgress","setCar","filledFields","getCarById","handleSaveClick","editCarById","handleRemoveClick","removeCarById","handleCancelClick","handleModelNameChange","handleModelTypeChange","AdminCarsTable","setCars","handleCarClick","event","carRow","getCars","AdminCarsPage","AdminCitiesTable","setCities","getCities","AdminCitiesPage","AdminInterfacePage","LoggedInRoute","Component","render","otherProps","AdminPage","positions","TOP_RIGHT","timeout","offset","transition","transitions","SCALE","ReactDOM","StrictMode","template","AlertTemplate","basename","document","getElementById"],"mappings":"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","file":"static/js/main.a853649d.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./slide-content.scss\";\r\nimport classNames from \"classnames\";\r\n\r\ninterface SlideContentProps {\r\n  title: string;\r\n  description: string;\r\n  buttonClass: string;\r\n}\r\n\r\nconst SlideContent = ({\r\n  title,\r\n  description,\r\n  buttonClass,\r\n}: SlideContentProps) => {\r\n  const btnClass = classNames(\"button\", \"button__medium\", buttonClass);\r\n  return (\r\n    <>\r\n      <h2 className=\"slider-content_title\">{title}</h2>\r\n      <p className=\"slider-content_description\">{description}</p>\r\n      <button className={btnClass}>Подробнее</button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SlideContent;\r\n","const slides = [\r\n  {\r\n    image: \"./assets/slider1.png\",\r\n    title: \"Бесплатная парковка\",\r\n    description: `Оставляйте машину на платных городских парковках и разрешенных местах,\r\n        не нарушая ПДД, а также в аэропортах.`,\r\n    buttonClass: \"button__green\",\r\n  },\r\n  {\r\n    image: \"./assets/slider2.png\",\r\n    title: \"Страховка\",\r\n    description: `Полная страховка автомобиля`,\r\n    buttonClass: \"button__blue\",\r\n  },\r\n  {\r\n    image: \"./assets/slider3.png\",\r\n    title: \"Бензин\",\r\n    description: `Полный бак на любой заправке города за наш счёт`,\r\n    buttonClass: \"button__red\",\r\n  },\r\n  {\r\n    image: \"./assets/slider4.png\",\r\n    title: \"Обслуживание\",\r\n    description: `Автомобиль проходит еженедельное ТО`,\r\n    buttonClass: \"button__purple\",\r\n  },\r\n];\r\n\r\nexport default slides;\r\n","import React from \"react\";\r\nimport AwesomeSlider from \"react-awesome-slider\";\r\nimport \"react-awesome-slider/dist/styles.css\";\r\nimport \"./slider.scss\";\r\nimport SlideContent from \"../slide-content/slide-content\";\r\nimport slides from \"./slides\";\r\n\r\nconst Slider = () => {\r\n  const renderedSlides = slides.map((slide) => (\r\n    <div className=\"slider-content\" data-src={slide.image}>\r\n      <SlideContent\r\n        title={slide.title}\r\n        description={slide.description}\r\n        buttonClass={slide.buttonClass}\r\n      />\r\n    </div>\r\n  ));\r\n  return (\r\n    <AwesomeSlider className=\"slider\" animation=\"\">\r\n      {renderedSlides}\r\n    </AwesomeSlider>\r\n  );\r\n};\r\n\r\nexport default Slider;\r\n","import React from \"react\";\r\nimport \"./header.scss\";\r\n\r\nconst Header = () => {\r\n  return (\r\n    <header className=\"header\">\r\n      <h2 className=\"header_logo\">Need for drive</h2>\r\n      <div className=\"header_location\">\r\n        <span className=\"location\" />\r\n        <span>Ульяновск</span>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport \"./main-block.scss\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst MainBlock = () => {\r\n  return (\r\n    <main className=\"main-info\">\r\n      <div className=\"main-info_container\">\r\n        <div className=\"main-info_container-text\">\r\n          <h1 className=\"main-info_title\">Каршеринг</h1>\r\n          <h2 className=\"main-info_title main-info_title__accent\">\r\n            Need for drive\r\n          </h2>\r\n          <span className=\"main-info_description\">\r\n            Поминутная аренда авто твоего города\r\n          </span>\r\n        </div>\r\n        <Link to=\"/order\">\r\n          <button className=\"button button__wide\">Забронировать</button>\r\n        </Link>\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default MainBlock;\r\n","import React from \"react\";\r\nimport \"./footer.scss\";\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <span className=\"footer_copyright\">© 2016-2019 «Need for drive»</span>\r\n      <span className=\"footer_phone\">8 (495) 234-22-44</span>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport \"./start-page.scss\";\r\nimport Slider from \"../../slider/slider\";\r\nimport Header from \"../../header/header\";\r\nimport MainBlock from \"../../main-block/main-block\";\r\nimport Footer from \"../../footer/footer\";\r\n\r\nconst StartPage = () => {\r\n  return (\r\n    <div className=\"start-page-container\">\r\n      <div className=\"main-page\">\r\n        <Header />\r\n        <MainBlock />\r\n        <Footer />\r\n      </div>\r\n      <div className=\"slider-container\">\r\n        <Slider />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StartPage;\r\n","export async function requestCoords(geocode: string) {\r\n  const response = await fetch(\r\n    `https://geocode-maps.yandex.ru/1.x/?apikey=${process.env.REACT_APP_MAP_KEY}&geocode=${geocode}&format=json`\r\n  );\r\n\r\n  if (response.ok) {\r\n    const json = await response.json();\r\n    const coords = json.response.GeoObjectCollection.featureMember[0].GeoObject.Point.pos.split(\r\n      \" \"\r\n    );\r\n    return [Number.parseFloat(coords[1]), Number.parseFloat(coords[0])];\r\n  }\r\n  throw new Error();\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"./map-widget.scss\";\r\nimport { Map, Placemark, YMaps } from \"react-yandex-maps\";\r\nimport { LocationState } from \"../../store/locationReducer\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { requestCoords } from \"../../api/geocoder-api\";\r\nimport IPoint from \"../../store/interfaces/i-point\";\r\n\r\ninterface MapWidgetState {\r\n  location: LocationState;\r\n}\r\n\r\nconst pointSelector = (state: MapWidgetState) => state.location.point;\r\nconst citySelector = (state: MapWidgetState) => state.location.city;\r\n\r\ninterface MapWidgetProps {\r\n  points: IPoint[];\r\n}\r\n\r\nconst MapWidget = ({ points }: MapWidgetProps) => {\r\n  const point = useSelector(pointSelector);\r\n  const city = useSelector(citySelector);\r\n  const [placeMarks, setPlaceMarks] = useState([[0, 0]]);\r\n  useEffect(() => {\r\n    const coordsRequests = points.map((point) =>\r\n      requestCoords(`${city.name}, ${point.address}`)\r\n    );\r\n\r\n    Promise.all(coordsRequests).then((coordsRequests) => {\r\n      setPlaceMarks(coordsRequests);\r\n    });\r\n  }, [city.name, points]);\r\n\r\n  const [position, setPosition] = useState({\r\n    center: [54.3, 48.3],\r\n    zoom: 10,\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (city.name && point.address) {\r\n      requestCoords(`${city.name}, ${point.address}`).then((coords) => {\r\n        if (coords) {\r\n          setPosition({\r\n            center: coords,\r\n            zoom: 16,\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }, [city.name, point.address]);\r\n  return (\r\n    <div className=\"order_map_container\">\r\n      <span>Выбрать на карте:</span>\r\n      <YMaps query={{ apikey: process.env.REACT_APP_MAP_KEY }}>\r\n        <Map className=\"order_map\" state={position}>\r\n          {placeMarks.map((placeMark) => (\r\n            <Placemark geometry={placeMark} />\r\n          ))}\r\n        </Map>\r\n      </YMaps>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MapWidget;\r\n","export const SET_CITY = \"LOCATION/SET_CITY\";\r\nexport const SET_POINT = \"LOCATION/SET_POINT\";\r\nexport const FETCH_CITIES = \"LOCATION/FETCH_CITIES\";\r\nexport const FETCH_POINTS = \"LOCATION/FETCH_POINTS\";\r\nexport const FETCH_CARS = \"MODEL/FETCH_CARS\";\r\nexport const FETCH_RATES = \"MODEL/FETCH_RATES\";\r\nexport const SET_MODEL = \"MODEL/SET_MODEL\";\r\nexport const SET_COLOR = \"ORDER/SET_COLOR\";\r\nexport const SET_RATE = \"ORDER/SET_RATE\";\r\nexport const SET_FULL_TANK = \"ORDER/SET_FULL_TANK\";\r\nexport const SET_CHILD_CHAIR = \"ORDER/SET_CHILD_CHAIR\";\r\nexport const SET_RIGHT_WHEEL = \"ORDER/SET_RIGHT_WHEEL\";\r\nexport const SET_DATE_FROM = \"ORDER/SET_DATE_FROM\";\r\nexport const SET_DATE_TO = \"ORDER/SET_DATE_TO\";\r\nexport const CHANGE_STAGE = \"ORDER/CHANGE_STAGE\";\r\nexport const SET_AVAILABLE = \"ORDER/SET_AVAILABLE\";\r\nexport const SET_PRICE = \"ORDER/SET_PRICE\";\r\nexport const SET_ORDER = \"ORDER/SET_ORDER\";\r\nexport const ROLLBACK_ORDER = \"ORDER/ROLLBACK_ORDER\";\r\nexport const AUTHENTICATE = \"AUTH/AUTHENTICATE\";\r\nexport const UNAUTHENTICATE = \"AUTH/UNAUTHENTICATE\";\r\n","import { Base64 } from \"js-base64\";\r\n\r\nconst baseUrl = \"http://api-factory.simbirsoft1.com\";\r\nconst authUrl = baseUrl + \"/api/auth/\";\r\nconst dbUrl = baseUrl + \"/api/db/\";\r\nconst corsUrl = \"https://cors-anywhere.herokuapp.com/\";\r\nconst getHeaders = {\r\n  \"X-Api-Factory-Application-Id\": \"5e25c641099b810b946c5d5b\",\r\n};\r\nconst postHeaders = {\r\n  ...getHeaders,\r\n  \"Content-Type\": \"application/json;charset=utf-8\",\r\n};\r\nconst getInit = {\r\n  method: \"GET\",\r\n  headers: getHeaders,\r\n};\r\nconst postInit = {\r\n  method: \"POST\",\r\n  headers: postHeaders,\r\n};\r\n\r\nexport async function loadCities() {\r\n  const response = await fetch(`${corsUrl}${dbUrl}city`, getInit);\r\n\r\n  if (response.ok) {\r\n    return response.json();\r\n  }\r\n}\r\n\r\nexport async function loadPoints() {\r\n  const response = await fetch(`${corsUrl}${dbUrl}point`, getInit);\r\n\r\n  if (response.ok) {\r\n    return response.json();\r\n  }\r\n}\r\n\r\nexport async function loadCars() {\r\n  const response = await fetch(`${corsUrl}${dbUrl}car?limit=6`, getInit);\r\n\r\n  if (response.ok) {\r\n    return response.json();\r\n  }\r\n}\r\n\r\nexport async function loadRates() {\r\n  const response = await fetch(`${corsUrl}${dbUrl}rate`, getInit);\r\n\r\n  if (response.ok) {\r\n    return response.json();\r\n  }\r\n}\r\n\r\nexport async function loadCarImage(path: string) {\r\n  const response = await fetch(`${corsUrl}${baseUrl}${path}`, getInit);\r\n\r\n  if (response.ok) {\r\n    return response.blob();\r\n  }\r\n}\r\n\r\nexport async function makeOrder(request: any) {\r\n  const response = await fetch(`${corsUrl}${dbUrl}order`, {\r\n    ...postInit,\r\n    body: JSON.stringify(request),\r\n  });\r\n\r\n  if (response.ok) {\r\n    return response.json();\r\n  }\r\n}\r\n\r\nexport async function getOrder(id: string) {\r\n  const response = await fetch(`${corsUrl}${dbUrl}order/${id}`, getInit);\r\n\r\n  if (response.ok) {\r\n    return response.json();\r\n  }\r\n}\r\n\r\nexport async function getOrders(token: string, limit: number, page: number) {\r\n  const response = await fetch(\r\n    `${corsUrl}${dbUrl}order?page=${page}&limit=${limit}`,\r\n    {\r\n      method: \"GET\",\r\n      headers: { ...getHeaders, Authorization: `Bearer ${token}` },\r\n    }\r\n  );\r\n\r\n  if (response.ok) {\r\n    return response.json();\r\n  }\r\n}\r\n\r\nexport async function getCars(token: string, limit: number, page: number) {\r\n  const response = await fetch(\r\n    `${corsUrl}${dbUrl}car?page=${page}&limit=${limit}`,\r\n    {\r\n      method: \"GET\",\r\n      headers: { ...getHeaders, Authorization: `Bearer ${token}` },\r\n    }\r\n  );\r\n\r\n  if (response.ok) {\r\n    return response.json();\r\n  }\r\n}\r\n\r\nexport async function getCarById(token: string, carId: string) {\r\n  const response = await fetch(`${corsUrl}${dbUrl}car/${carId}`, {\r\n    method: \"GET\",\r\n    headers: { ...getHeaders, Authorization: `Bearer ${token}` },\r\n  });\r\n\r\n  if (response.ok) {\r\n    return response.json();\r\n  }\r\n}\r\n\r\nexport async function editCarById(\r\n  token: string,\r\n  carId: string,\r\n  name: string,\r\n  description: string\r\n) {\r\n  const response = await fetch(`${corsUrl}${dbUrl}car/${carId}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      ...postHeaders,\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({\r\n      name,\r\n      description,\r\n    }),\r\n  });\r\n\r\n  if (response.ok) {\r\n    return response.json();\r\n  }\r\n}\r\n\r\nexport async function removeCarById(token: string, carId: string) {\r\n  const response = await fetch(`${corsUrl}${dbUrl}car/${carId}`, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      ...getHeaders,\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  });\r\n\r\n  if (response.ok) {\r\n    return response.json();\r\n  }\r\n}\r\n\r\nexport async function getCities(token: string, limit: number, page: number) {\r\n  const response = await fetch(\r\n    `${corsUrl}${dbUrl}city?page=${page}&limit=${limit}`,\r\n    {\r\n      method: \"GET\",\r\n      headers: { ...getHeaders, Authorization: `Bearer ${token}` },\r\n    }\r\n  );\r\n\r\n  if (response.ok) {\r\n    return response.json();\r\n  }\r\n}\r\n\r\nexport async function login(username: string, password: string) {\r\n  const response = await fetch(`${corsUrl}${authUrl}login`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      ...postHeaders,\r\n      Authorization: `Basic ${Base64.encode(\r\n        `${Math.random().toString(36).substr(2, 7)}:4cbcea96de`\r\n      )}`,\r\n    },\r\n    body: JSON.stringify({ username, password }),\r\n  });\r\n\r\n  if (response.ok) {\r\n    return response.json();\r\n  }\r\n}\r\n\r\nexport async function register(login: string, password: string) {\r\n  const response = await fetch(`${corsUrl}${authUrl}register`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      ...postHeaders,\r\n    },\r\n    body: JSON.stringify({ login, password }),\r\n  });\r\n\r\n  if (response.ok) {\r\n    return response.json();\r\n  }\r\n}\r\n","import {\r\n  AUTHENTICATE,\r\n  CHANGE_STAGE,\r\n  FETCH_CARS,\r\n  FETCH_CITIES,\r\n  FETCH_POINTS,\r\n  FETCH_RATES,\r\n  ROLLBACK_ORDER,\r\n  SET_AVAILABLE,\r\n  SET_CHILD_CHAIR,\r\n  SET_CITY,\r\n  SET_COLOR,\r\n  SET_DATE_FROM,\r\n  SET_DATE_TO,\r\n  SET_FULL_TANK,\r\n  SET_MODEL,\r\n  SET_ORDER,\r\n  SET_POINT,\r\n  SET_PRICE,\r\n  SET_RATE,\r\n  SET_RIGHT_WHEEL,\r\n  UNAUTHENTICATE,\r\n} from \"./types\";\r\nimport {\r\n  loadCars,\r\n  loadCities,\r\n  loadPoints,\r\n  loadRates,\r\n} from \"../api/api-factory\";\r\nimport { Dispatch } from \"react\";\r\nimport IAction from \"./interfaces/i-action\";\r\nimport ICar from \"./interfaces/i-car\";\r\nimport IRate from \"./interfaces/i-rate\";\r\nimport ICity from \"./interfaces/i-city\";\r\nimport IPoint from \"./interfaces/i-point\";\r\nimport { Moment } from \"moment\";\r\nimport { OrderState } from \"./orderReducer\";\r\nimport { AuthState } from \"./authReducer\";\r\n\r\nexport function setCity(city: ICity | undefined) {\r\n  return {\r\n    type: SET_CITY,\r\n    payload: city,\r\n  };\r\n}\r\n\r\nexport function setPoint(point: IPoint) {\r\n  return {\r\n    type: SET_POINT,\r\n    payload: point,\r\n  };\r\n}\r\n\r\nexport function setColor(color: string) {\r\n  return {\r\n    type: SET_COLOR,\r\n    payload: color,\r\n  };\r\n}\r\n\r\nexport function setPrice(price: number) {\r\n  return {\r\n    type: SET_PRICE,\r\n    payload: price,\r\n  };\r\n}\r\n\r\nexport function setOrder(order: OrderState) {\r\n  return {\r\n    type: SET_ORDER,\r\n    payload: order,\r\n  };\r\n}\r\n\r\nexport function rollbackOrder(order: OrderState) {\r\n  return {\r\n    type: ROLLBACK_ORDER,\r\n    payload: order,\r\n  };\r\n}\r\n\r\nexport function setRate(rate: IRate) {\r\n  return {\r\n    type: SET_RATE,\r\n    payload: rate,\r\n  };\r\n}\r\n\r\nexport function setFullTank(value: boolean) {\r\n  return {\r\n    type: SET_FULL_TANK,\r\n    payload: value,\r\n  };\r\n}\r\n\r\nexport function setChildChair(value: boolean) {\r\n  return {\r\n    type: SET_CHILD_CHAIR,\r\n    payload: value,\r\n  };\r\n}\r\n\r\nexport function setRightWheel(value: boolean) {\r\n  return {\r\n    type: SET_RIGHT_WHEEL,\r\n    payload: value,\r\n  };\r\n}\r\n\r\nexport function setDateFrom(value: string | Moment) {\r\n  return {\r\n    type: SET_DATE_FROM,\r\n    payload: value,\r\n  };\r\n}\r\n\r\nexport function setDateTo(value: string | Moment) {\r\n  return {\r\n    type: SET_DATE_TO,\r\n    payload: value,\r\n  };\r\n}\r\n\r\nexport function changeStage(value: number) {\r\n  return {\r\n    type: CHANGE_STAGE,\r\n    payload: value,\r\n  };\r\n}\r\n\r\nexport function setAvailable(value: boolean) {\r\n  return {\r\n    type: SET_AVAILABLE,\r\n    payload: value,\r\n  };\r\n}\r\n\r\nexport function fetchCities() {\r\n  return async (dispatch: Dispatch<IAction>) => {\r\n    const response = await loadCities();\r\n    dispatch({ type: FETCH_CITIES, payload: response.data });\r\n  };\r\n}\r\n\r\nexport function fetchPoints() {\r\n  return async (dispatch: Dispatch<IAction>) => {\r\n    const response = await loadPoints();\r\n    dispatch({ type: FETCH_POINTS, payload: response.data });\r\n  };\r\n}\r\n\r\nexport function fetchCars() {\r\n  return async (dispatch: Dispatch<IAction>) => {\r\n    const response = await loadCars();\r\n    dispatch({ type: FETCH_CARS, payload: response.data });\r\n  };\r\n}\r\n\r\nexport function fetchRates() {\r\n  return async (dispatch: Dispatch<IAction>) => {\r\n    const response = await loadRates();\r\n    dispatch({ type: FETCH_RATES, payload: response.data });\r\n  };\r\n}\r\n\r\nexport function setModel(car: ICar | undefined) {\r\n  return {\r\n    type: SET_MODEL,\r\n    payload: car,\r\n  };\r\n}\r\n\r\nexport function authenticate(auth: AuthState) {\r\n  return {\r\n    type: AUTHENTICATE,\r\n    payload: auth,\r\n  };\r\n}\r\n\r\nexport function unauthenticate() {\r\n  return {\r\n    type: UNAUTHENTICATE,\r\n    payload: null,\r\n  };\r\n}\r\n\r\nexport function logIn(auth: AuthState) {\r\n  return async (dispatch: Dispatch<IAction>) => {\r\n    await window.localStorage.setItem(\"authenticated\", \"true\");\r\n    dispatch(authenticate(auth));\r\n  };\r\n}\r\n\r\nexport function logOut() {\r\n  return async (dispatch: Dispatch<IAction>) => {\r\n    await window.localStorage.setItem(\"authenticated\", \"false\");\r\n    dispatch(unauthenticate());\r\n  };\r\n}\r\n","import Fuzzy from \"fuzzy\";\r\n\r\nexport function prettifyPrice(num: number) {\r\n  const n = num.toString();\r\n  return n.split(/(\\d{1,3}(?=(?:\\d\\d\\d)+(?!\\d)))/g).join(\" \");\r\n}\r\n\r\nexport function customFilter(value: string, options: any[]) {\r\n  if (value.length < 2) return [];\r\n  const values = options.map((option) => option.name);\r\n  const results = Fuzzy.filter(value, values).map((result) => result.string);\r\n  return options.filter((option) => results.includes(option.name));\r\n}\r\n","import { ModelState } from \"./modelReducer\";\r\nimport { OrderState } from \"./orderReducer\";\r\nimport { LocationState } from \"./locationReducer\";\r\nimport { AuthState } from \"./authReducer\";\r\n\r\ninterface SelectorsState {\r\n  model: ModelState;\r\n  order: OrderState;\r\n  location: LocationState;\r\n  auth: AuthState;\r\n}\r\n\r\nexport const modelSelector = (state: SelectorsState) => state.model.model;\r\nexport const colorSelector = (state: SelectorsState) => state.order.color;\r\nexport const rateSelector = (state: SelectorsState) => state.order.rate;\r\nexport const priceSelector = (state: SelectorsState) => state.order.price;\r\nexport const dateFromSelector = (state: SelectorsState) => state.order.dateFrom;\r\nexport const dateToSelector = (state: SelectorsState) => state.order.dateTo;\r\nexport const fullTankSelector = (state: SelectorsState) =>\r\n  state.order.isFullTank;\r\nexport const childChairSelector = (state: SelectorsState) =>\r\n  state.order.isNeedChildChair;\r\nexport const rightWheelSelector = (state: SelectorsState) =>\r\n  state.order.isRightWheel;\r\nexport const cityNameSelector = (state: SelectorsState) =>\r\n  state.location.city.name;\r\nexport const citySelector = (state: SelectorsState) => state.location.city;\r\nexport const pointSelector = (state: SelectorsState) => state.location.point;\r\nexport const addressSelector = (state: SelectorsState) =>\r\n  state.location.point.address;\r\nexport const availableSelector = (state: SelectorsState) =>\r\n  state.order.available;\r\nexport const citiesSelector = (state: SelectorsState) => state.location.cities;\r\nexport const pointsSelector = (state: SelectorsState) => state.location.points;\r\nexport const carsSelector = (state: SelectorsState) => state.model.cars;\r\nexport const carIdSelector = (state: SelectorsState) => state.model.model.id;\r\nexport const ratesSelector = (state: SelectorsState) => state.model.rates;\r\nexport const orderSelector = (state: SelectorsState) => state.order;\r\nexport const authenticatedSelector = (state: SelectorsState) =>\r\n  state.auth.isAuthenticated;\r\nexport const accessTokenSelector = (state: SelectorsState) =>\r\n  state.auth.accessToken;\r\n","enum ModelOptionEnum {\r\n  modelOption1,\r\n  modelOption2,\r\n  modelOption3,\r\n}\r\n\r\nexport default ModelOptionEnum;\r\n","import { OptionsObject, Typeahead } from \"@gforge/react-typeahead-ts\";\r\nimport MapWidget from \"../map-widget/map-widget\";\r\nimport React, { useCallback, useEffect, useState } from \"react\";\r\nimport {\r\n  fetchCities,\r\n  fetchPoints,\r\n  rollbackOrder,\r\n  setAvailable,\r\n  setCity,\r\n  setModel,\r\n  setPoint,\r\n} from \"../../store/actions\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport ICity from \"../../store/interfaces/i-city\";\r\nimport IPoint from \"../../store/interfaces/i-point\";\r\nimport \"./step-one.scss\";\r\nimport { customFilter } from \"../../utils/utils\";\r\nimport ICar from \"../../store/interfaces/i-car\";\r\nimport IRateTypeId from \"../../store/interfaces/i-rate-type-id\";\r\nimport IRate from \"../../store/interfaces/i-rate\";\r\nimport {\r\n  citiesSelector,\r\n  citySelector,\r\n  pointSelector,\r\n  pointsSelector,\r\n} from \"../../store/selectors\";\r\nimport { OrderState } from \"../../store/orderReducer\";\r\n\r\nconst StepOne = () => {\r\n  const cities = useSelector(citiesSelector);\r\n  const points = useSelector(pointsSelector);\r\n  const storedCity = useSelector(citySelector);\r\n  const storedPoint = useSelector(pointSelector);\r\n  const dispatch = useDispatch();\r\n  const [filteredPoints, setFilteredPoints] = useState(points);\r\n\r\n  useEffect(() => {\r\n    if (!cities?.length || !points?.length) {\r\n      (async () => {\r\n        dispatch(fetchCities());\r\n        dispatch(fetchPoints());\r\n      })();\r\n    }\r\n  }, [cities?.length, dispatch, points?.length]);\r\n\r\n  useEffect(() => {\r\n    const newFilteredPoints = points.filter((point) => {\r\n      if (storedCity?.id) {\r\n        return point.cityId.id === storedCity.id;\r\n      } else {\r\n        return true;\r\n      }\r\n    });\r\n    setFilteredPoints(newFilteredPoints);\r\n  }, [storedCity, points]);\r\n\r\n  const resetFields = useCallback(() => {\r\n    const orderRequest = {\r\n      stage: 1,\r\n      color: \"\",\r\n      dateFrom: undefined,\r\n      dateTo: undefined,\r\n      isRightWheel: false,\r\n      isFullTank: false,\r\n      isNeedChildChair: false,\r\n      price: 0,\r\n      rate: {\r\n        price: 0,\r\n        rateTypeId: { name: \"\", unit: \"\" } as IRateTypeId,\r\n      } as IRate,\r\n    } as OrderState;\r\n    dispatch(setModel({ id: \"\", name: \"\" } as ICar));\r\n    dispatch(rollbackOrder(orderRequest));\r\n  }, [dispatch]);\r\n\r\n  const changeCity = useCallback(\r\n    (value: string | number | OptionsObject | undefined) => {\r\n      if (value) {\r\n        const city = value as ICity;\r\n        dispatch(setCity(city));\r\n        if (city.id !== storedCity.id) {\r\n          resetFields();\r\n        }\r\n      } else {\r\n        resetFields();\r\n      }\r\n    },\r\n    [dispatch, resetFields, storedCity.id]\r\n  );\r\n\r\n  const changePoint = useCallback(\r\n    (value: string | number | OptionsObject | undefined) => {\r\n      if (value) {\r\n        const point = value as IPoint;\r\n\r\n        dispatch(setPoint(point));\r\n        if (point.id !== storedPoint.id) {\r\n          resetFields();\r\n        }\r\n\r\n        const newCity = cities.find((city) => city.id === point.cityId.id);\r\n        if (newCity?.id !== storedCity?.id) {\r\n          dispatch(setCity(newCity));\r\n        }\r\n      } else {\r\n        resetFields();\r\n      }\r\n    },\r\n    [dispatch, storedPoint.id, cities, storedCity?.id, resetFields]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (storedCity.id && storedPoint.name) {\r\n      dispatch(setAvailable(true));\r\n    } else {\r\n      dispatch(setAvailable(false));\r\n    }\r\n  }, [storedCity.id, dispatch, storedPoint.name]);\r\n  return (\r\n    <div className=\"order_form-container\">\r\n      <form className=\"order_form\">\r\n        <label>Город</label>\r\n        <span className=\"clearable\">\r\n          <Typeahead\r\n            options={cities}\r\n            displayOption=\"name\"\r\n            filterOption=\"name\"\r\n            maxVisible={4}\r\n            customClasses={{ input: \"input\", listItem: \"listItem\" }}\r\n            value={storedCity.name}\r\n            onOptionSelected={changeCity}\r\n            searchOptions={customFilter}\r\n            placeholder=\"Начните вводить город...\"\r\n          />\r\n          <button className=\"icon-clear\" />\r\n        </span>\r\n        <label>Пункт выдачи</label>\r\n        <span className=\"clearable\">\r\n          <Typeahead\r\n            options={filteredPoints}\r\n            maxVisible={4}\r\n            displayOption=\"name\"\r\n            filterOption=\"name\"\r\n            customClasses={{ input: \"input\", listItem: \"listItem\" }}\r\n            value={storedPoint.name}\r\n            onOptionSelected={changePoint}\r\n            searchOptions={customFilter}\r\n            placeholder=\"Начните вводить пункт...\"\r\n          />\r\n          <button className=\"icon-clear\" />\r\n        </span>\r\n      </form>\r\n      <MapWidget points={filteredPoints} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StepOne;\r\n","const orderButtons = new Map<number, string>([\r\n  [1, \"Выбрать модель\"],\r\n  [2, \"Дополнительно\"],\r\n  [3, \"Итого\"],\r\n  [4, \"Заказать\"],\r\n  [5, \"Отменить\"],\r\n]);\r\n\r\nexport default orderButtons;\r\n","import React from \"react\";\r\nimport \"./modal.scss\";\r\nimport classNames from \"classnames\";\r\n\r\ninterface ModalProps {\r\n  isHidden: boolean;\r\n  onAccept: () => void;\r\n  onDecline: () => void;\r\n}\r\n\r\nconst Modal = ({ isHidden, onAccept, onDecline }: ModalProps) => {\r\n  const modalClass = classNames(\"modal-window\", {\r\n    \"modal-window__hidden\": isHidden,\r\n  });\r\n  return (\r\n    <div className={modalClass}>\r\n      <div className=\"modal-window_content\">\r\n        <h4 className=\"modal-window_title\">Подтвердить заказ</h4>\r\n        <div className=\"modal-window_button-group\">\r\n          <button className=\"button button__medium\" onClick={onAccept}>\r\n            Подтвердить\r\n          </button>\r\n          <button\r\n            className=\"button button__medium button__red\"\r\n            onClick={onDecline}\r\n          >\r\n            Вернуться\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React from \"react\";\r\n\r\ninterface OrderDetailsRowProps {\r\n  label: string;\r\n  value: string;\r\n}\r\n\r\nconst OrderDetailsRow = ({ label, value }: OrderDetailsRowProps) => {\r\n  return (\r\n    <div className=\"order-details_row\">\r\n      <span>{label}</span>\r\n      <div />\r\n      <div className=\"order-details_value\">\r\n        <span>{value}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderDetailsRow;\r\n","import React, { useCallback, useMemo, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport \"./order-details.scss\";\r\nimport { prettifyPrice } from \"../../utils/utils\";\r\nimport moment from \"moment\";\r\nimport classNames from \"classnames\";\r\nimport orderButtons from \"./order-buttons\";\r\nimport { changeStage, setPrice } from \"../../store/actions\";\r\nimport Modal from \"../modal/modal\";\r\nimport { makeOrder } from \"../../api/api-factory\";\r\nimport {\r\n  addressSelector,\r\n  availableSelector,\r\n  childChairSelector,\r\n  cityNameSelector,\r\n  citySelector,\r\n  colorSelector,\r\n  dateFromSelector,\r\n  dateToSelector,\r\n  fullTankSelector,\r\n  modelSelector,\r\n  pointSelector,\r\n  priceSelector,\r\n  rateSelector,\r\n  rightWheelSelector,\r\n} from \"../../store/selectors\";\r\nimport OrderDetailsRow from \"../order-details-row/OrderDetailsRow\";\r\n\r\ninterface OrderDetailsProps {\r\n  stage: number;\r\n}\r\n\r\nconst OrderDetails = ({ stage }: OrderDetailsProps) => {\r\n  const model = useSelector(modelSelector);\r\n  const totalPrice = useSelector(priceSelector);\r\n  const color = useSelector(colorSelector);\r\n  const rate = useSelector(rateSelector);\r\n  const dateFrom = useSelector(dateFromSelector);\r\n  const dateTo = useSelector(dateToSelector);\r\n  const city = useSelector(citySelector);\r\n  const point = useSelector(pointSelector);\r\n  const name = useSelector(cityNameSelector);\r\n  const address = useSelector(addressSelector);\r\n  const isFullTank = useSelector(fullTankSelector);\r\n  const isNeedChildChair = useSelector(childChairSelector);\r\n  const isRightWheel = useSelector(rightWheelSelector);\r\n  const available = useSelector(availableSelector);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const [isPriceOK, setPriceOK] = useState(false);\r\n  const [hidden, setHidden] = useState(true);\r\n\r\n  const buttonClass = classNames(\"button\", \"button__infinite\", {\r\n    button__disabled: !available,\r\n    button__red: stage === 5,\r\n  });\r\n\r\n  const priceClass = classNames({ price__red: !isPriceOK });\r\n\r\n  const changeModalVisibility = useCallback(() => {\r\n    setHidden((prev) => !prev);\r\n  }, []);\r\n\r\n  const onModalAccept = useCallback(() => {\r\n    const request = {\r\n      orderStatusId: \"5e26a191099b810b946c5d89\",\r\n      cityId: city.id,\r\n      pointId: point.id,\r\n      carId: model.id,\r\n      color,\r\n      dateFrom: dateFrom?.valueOf(),\r\n      dateTo: dateTo?.valueOf(),\r\n      rateId: rate.id,\r\n      price: totalPrice,\r\n      isFullTank,\r\n      isNeedChildChair,\r\n      isRightWheel,\r\n    };\r\n    makeOrder(request).then((res) => {\r\n      setHidden((prev) => !prev);\r\n      dispatch(changeStage(stage + 1));\r\n      history.push(`/order/${res.data.id}`);\r\n    });\r\n  }, [\r\n    city.id,\r\n    color,\r\n    dateFrom,\r\n    dateTo,\r\n    dispatch,\r\n    history,\r\n    isFullTank,\r\n    isNeedChildChair,\r\n    isRightWheel,\r\n    model.id,\r\n    point.id,\r\n    rate.id,\r\n    stage,\r\n    totalPrice,\r\n  ]);\r\n\r\n  const onModalDecline = useCallback(() => {\r\n    setHidden((prev) => !prev);\r\n  }, []);\r\n\r\n  const rentTime = useMemo(() => {\r\n    if (dateFrom && dateTo) {\r\n      return `${moment(dateTo).diff(moment(dateFrom), \"hours\")}ч`;\r\n    }\r\n  }, [dateFrom, dateTo]);\r\n\r\n  const finalPrice = useMemo(() => {\r\n    let price = totalPrice;\r\n    let stringPrice = \"\";\r\n    if (dateFrom && dateTo && rate?.price) {\r\n      const startPrice = rate.price;\r\n      const unit = rate.rateTypeId.unit;\r\n      let units: \"minutes\" | \"days\";\r\n      switch (unit) {\r\n        case \"мин\": {\r\n          units = \"minutes\";\r\n          break;\r\n        }\r\n        case \"сутки\": {\r\n          units = \"days\";\r\n          break;\r\n        }\r\n        default: {\r\n          units = \"minutes\";\r\n        }\r\n      }\r\n      let time = moment(dateTo).diff(moment(dateFrom), units);\r\n      if (units === \"days\") {\r\n        time = Math.max(time, 1);\r\n      }\r\n      price = startPrice * time;\r\n      if (isRightWheel) price += 1600;\r\n      if (isNeedChildChair) price += 200;\r\n      if (isFullTank) price += 500;\r\n    }\r\n\r\n    const isResultPriceOK =\r\n      price !== 0 && price < model?.priceMax && price > model?.priceMin;\r\n    setPriceOK(isResultPriceOK);\r\n\r\n    if (price && isResultPriceOK) {\r\n      stringPrice = `${prettifyPrice(price)} ₽`;\r\n      dispatch(setPrice(price));\r\n    } else if (model?.priceMax) {\r\n      dispatch(setPrice(0));\r\n      stringPrice = `от ${prettifyPrice(model.priceMin)} до ${prettifyPrice(\r\n        model.priceMax\r\n      )} ₽`;\r\n    }\r\n    return stringPrice;\r\n  }, [\r\n    totalPrice,\r\n    dateFrom,\r\n    dateTo,\r\n    rate.price,\r\n    rate.rateTypeId.unit,\r\n    model.priceMax,\r\n    model.priceMin,\r\n    isRightWheel,\r\n    isNeedChildChair,\r\n    isFullTank,\r\n    dispatch,\r\n  ]);\r\n\r\n  const handleNextButtonClick = useCallback(() => {\r\n    if (stage !== 4) {\r\n      dispatch(changeStage(stage + 1));\r\n    } else {\r\n      changeModalVisibility();\r\n    }\r\n  }, [changeModalVisibility, dispatch, stage]);\r\n  return (\r\n    <>\r\n      <Modal\r\n        isHidden={hidden}\r\n        onAccept={onModalAccept}\r\n        onDecline={onModalDecline}\r\n      />\r\n      <div className=\"order-details\">\r\n        <label>Ваш заказ:</label>\r\n        {name && (\r\n          <div className=\"order-details_row\">\r\n            <span>Пункт выдачи</span>\r\n            <div />\r\n            <div className=\"order-details_value\">\r\n              <span>{`${name}${address ? \",\" : \"\"}`}</span>\r\n              <span>{address}</span>\r\n            </div>\r\n          </div>\r\n        )}\r\n        {model.name && <OrderDetailsRow label=\"Модель\" value={model.name} />}\r\n        {color && <OrderDetailsRow label=\"Цвет\" value={color} />}\r\n        {rate?.rateTypeId?.name && (\r\n          <OrderDetailsRow label=\"Тариф\" value={rate.rateTypeId.name} />\r\n        )}\r\n        {isFullTank && <OrderDetailsRow label=\"Полный бак\" value=\"Да\" />}\r\n        {isNeedChildChair && (\r\n          <OrderDetailsRow label=\"Детское кресло\" value=\"Да\" />\r\n        )}\r\n        {isRightWheel && <OrderDetailsRow label=\"Правый руль\" value=\"Да\" />}\r\n        {rentTime && (\r\n          <OrderDetailsRow label=\"Длительность аренды\" value={rentTime} />\r\n        )}\r\n        {finalPrice && (\r\n          <p className={priceClass}>\r\n            <b>Цена:</b> {finalPrice}\r\n          </p>\r\n        )}\r\n        <button\r\n          className={buttonClass}\r\n          onClick={handleNextButtonClick}\r\n          disabled={!available}\r\n        >\r\n          {orderButtons.get(stage)}\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OrderDetails;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { prettifyPrice } from \"../../utils/utils\";\r\nimport \"./car-card.scss\";\r\nimport { loadCarImage } from \"../../api/api-factory\";\r\nimport ICar from \"../../store/interfaces/i-car\";\r\n\r\ninterface CarCardProps {\r\n  itemClass: string;\r\n  car: ICar;\r\n}\r\n\r\nconst CarCard = ({ itemClass, car }: CarCardProps) => {\r\n  const [imgSrc, setImgSrc] = useState(\"\");\r\n  useEffect(() => {\r\n    loadCarImage(car.thumbnail.path).then((blob) => {\r\n      setImgSrc(URL.createObjectURL(blob));\r\n    });\r\n  }, []);\r\n  return (\r\n    <div className={itemClass} data-id={car.id}>\r\n      <h4>{car.name}</h4>\r\n      <p>\r\n        {prettifyPrice(car.priceMin)} - {prettifyPrice(car.priceMax)} ₽\r\n      </p>\r\n      <img src={imgSrc} alt=\"car\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CarCard;\r\n","import React from \"react\";\r\nimport classNames from \"classnames\";\r\nimport \"./model-grid.scss\";\r\nimport CarCard from \"../car-card/car-card\";\r\nimport ICar from \"../../store/interfaces/i-car\";\r\n\r\ninterface ModelGridProps {\r\n  filteredCars: ICar[];\r\n  carId: string;\r\n  handleCardClick: (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => void;\r\n}\r\n\r\nconst ModelGrid = ({\r\n  filteredCars,\r\n  handleCardClick,\r\n  carId,\r\n}: ModelGridProps) => {\r\n  const carCards = filteredCars.map((car: ICar) => {\r\n    const itemClass = classNames(\"model-item\", {\r\n      \"model-item__selected\": carId === car.id,\r\n    });\r\n    return <CarCard key={car.id} itemClass={itemClass} car={car} />;\r\n  });\r\n  return (\r\n    <div className=\"model-grid\" onClick={handleCardClick}>\r\n      {carCards}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ModelGrid;\r\n","import React from \"react\";\r\nimport \"./custom-radio.scss\";\r\n\r\ninterface CustomRadioProps {\r\n  name: string;\r\n  id: string;\r\n  defaultChecked: boolean;\r\n  text: string;\r\n}\r\n\r\nconst CustomRadio = ({ id, name, defaultChecked, text }: CustomRadioProps) => {\r\n  return (\r\n    <>\r\n      <input\r\n        type=\"radio\"\r\n        className=\"custom-radio\"\r\n        name={name}\r\n        id={id}\r\n        defaultChecked={defaultChecked}\r\n      />\r\n      <label htmlFor={id}>{text}</label>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CustomRadio;\r\n","import React, { useCallback, useEffect, useState } from \"react\";\r\nimport {\r\n  fetchCars,\r\n  rollbackOrder,\r\n  setAvailable,\r\n  setModel,\r\n} from \"../../store/actions\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport ModelGrid from \"../model-grid/model-grid\";\r\nimport \"./step-two.scss\";\r\nimport IRate from \"../../store/interfaces/i-rate\";\r\nimport IRateTypeId from \"../../store/interfaces/i-rate-type-id\";\r\nimport {\r\n  carIdSelector,\r\n  carsSelector,\r\n  modelSelector,\r\n} from \"../../store/selectors\";\r\nimport ModelOptionEnum from \"./model-option-enum\";\r\nimport CustomRadio from \"../custom-radio/custom-radio\";\r\nimport { OrderState } from \"../../store/orderReducer\";\r\n\r\nconst StepTwo = () => {\r\n  const cars = useSelector(carsSelector);\r\n  const carId = useSelector(carIdSelector);\r\n  const storedCar = useSelector(modelSelector);\r\n  const dispatch = useDispatch();\r\n  const [modelOption, setModelOption] = useState(ModelOptionEnum.modelOption1);\r\n  const [filteredCars, setFilteredCars] = useState(cars);\r\n\r\n  const handleCardClick = useCallback(\r\n    (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\r\n      const target = e.target as HTMLDivElement;\r\n      const modelItem = target.closest(\".model-item\");\r\n      if (modelItem) {\r\n        const dataId = modelItem.getAttribute(\"data-id\");\r\n        if (!dataId) {\r\n          return;\r\n        }\r\n        const car = cars.find((car) => car.id === dataId);\r\n        if (car) {\r\n          if (car.id !== storedCar.id) {\r\n            const orderRequest = {\r\n              stage: 2,\r\n              color: \"\",\r\n              dateFrom: undefined,\r\n              dateTo: undefined,\r\n              isRightWheel: false,\r\n              isFullTank: false,\r\n              isNeedChildChair: false,\r\n              price: 0,\r\n              rate: {\r\n                price: 0,\r\n                rateTypeId: { name: \"\", unit: \"\" } as IRateTypeId,\r\n              } as IRate,\r\n            } as OrderState;\r\n            dispatch(rollbackOrder(orderRequest));\r\n          }\r\n          dispatch(setModel(car));\r\n        }\r\n      }\r\n    },\r\n    [cars, dispatch, storedCar.id]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!cars || cars.length === 0) {\r\n      (async () => {\r\n        dispatch(fetchCars());\r\n      })();\r\n    }\r\n  }, [cars, dispatch]);\r\n\r\n  useEffect(() => {\r\n    setFilteredCars(cars);\r\n  }, [cars]);\r\n\r\n  useEffect(() => {\r\n    switch (modelOption) {\r\n      case ModelOptionEnum.modelOption1: {\r\n        setFilteredCars(cars);\r\n        break;\r\n      }\r\n      case ModelOptionEnum.modelOption2: {\r\n        const filteredCars = cars.filter(\r\n          (car) => car.categoryId.name === \"Эконом\"\r\n        );\r\n        setFilteredCars(filteredCars);\r\n        break;\r\n      }\r\n      case ModelOptionEnum.modelOption3: {\r\n        const filteredCars = cars.filter(\r\n          (car) => car.categoryId.name === \"Премиум\"\r\n        );\r\n        setFilteredCars(filteredCars);\r\n        break;\r\n      }\r\n      default: {\r\n        setFilteredCars(cars);\r\n      }\r\n    }\r\n  }, [cars, modelOption]);\r\n\r\n  const handleChangeValue = useCallback(\r\n    (e: React.ChangeEvent<HTMLInputElement>) => {\r\n      setModelOption(Number.parseInt(e.target.id));\r\n    },\r\n    []\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (carId) {\r\n      dispatch(setAvailable(true));\r\n    } else {\r\n      dispatch(setAvailable(false));\r\n    }\r\n  }, [carId, dispatch]);\r\n  return (\r\n    <div className=\"model-container\">\r\n      <div onChange={handleChangeValue}>\r\n        <CustomRadio\r\n          name=\"modelType\"\r\n          id={ModelOptionEnum.modelOption1.toString()}\r\n          defaultChecked={true}\r\n          text=\"Все модели\"\r\n        />\r\n        <CustomRadio\r\n          name=\"modelType\"\r\n          id={ModelOptionEnum.modelOption2.toString()}\r\n          defaultChecked={false}\r\n          text=\"Эконом\"\r\n        />\r\n        <CustomRadio\r\n          name=\"modelType\"\r\n          id={ModelOptionEnum.modelOption3.toString()}\r\n          defaultChecked={false}\r\n          text=\"Премиум\"\r\n        />\r\n      </div>\r\n      <ModelGrid\r\n        filteredCars={filteredCars}\r\n        handleCardClick={handleCardClick}\r\n        carId={carId}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StepTwo;\r\n","import React from \"react\";\r\nimport \"./custom-checkbox.scss\";\r\n\r\ninterface CustomCheckboxProps {\r\n  name: string;\r\n  id: string;\r\n  checked: boolean;\r\n  text: string;\r\n}\r\n\r\nconst CustomCheckbox = ({ id, name, checked, text }: CustomCheckboxProps) => {\r\n  return (\r\n    <div>\r\n      <input\r\n        type=\"checkbox\"\r\n        name={name}\r\n        id={id}\r\n        className=\"custom-checkbox\"\r\n        defaultChecked={checked}\r\n      />\r\n      <label htmlFor={id}>{text}</label>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CustomCheckbox;\r\n","import React from \"react\";\r\nimport \"./additional-rate-picker.scss\";\r\nimport { OrderState } from \"../../store/orderReducer\";\r\nimport { useSelector } from \"react-redux\";\r\nimport CustomCheckbox from \"../custom-checkbox/custom-checkbox\";\r\n\r\ninterface AdditionalRatePickerProps {\r\n  handleChangeValue: (e: React.ChangeEvent<HTMLInputElement>) => void;\r\n}\r\n\r\ninterface AdditionalRatePickerState {\r\n  order: OrderState;\r\n}\r\n\r\nconst isRightWheelSelector = (state: AdditionalRatePickerState) =>\r\n  state.order.isRightWheel;\r\nconst isNeedChildChairSelector = (state: AdditionalRatePickerState) =>\r\n  state.order.isNeedChildChair;\r\nconst isFullTankSelector = (state: AdditionalRatePickerState) =>\r\n  state.order.isFullTank;\r\n\r\nconst AdditionalRatePicker = ({\r\n  handleChangeValue,\r\n}: AdditionalRatePickerProps) => {\r\n  const isRightWheel = useSelector(isRightWheelSelector);\r\n  const isNeedChildChair = useSelector(isNeedChildChairSelector);\r\n  const isFullTank = useSelector(isFullTankSelector);\r\n  return (\r\n    <div className=\"additional-rate-picker_container\">\r\n      <label>Доп услуги</label>\r\n      <div className=\"additional-rate-picker\" onChange={handleChangeValue}>\r\n        <CustomCheckbox\r\n          id=\"service1\"\r\n          name=\"service1\"\r\n          checked={isFullTank}\r\n          text=\"Полный бак, 500р\"\r\n        />\r\n        <CustomCheckbox\r\n          id=\"service2\"\r\n          name=\"service2\"\r\n          checked={isNeedChildChair}\r\n          text=\"Детское кресло, 200р\"\r\n        />\r\n        <CustomCheckbox\r\n          id=\"service3\"\r\n          name=\"service3\"\r\n          checked={isRightWheel}\r\n          text=\"Правый руль, 1600р\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdditionalRatePicker;\r\n","import React, { useMemo } from \"react\";\r\nimport IRate from \"../../store/interfaces/i-rate\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { ModelState } from \"../../store/modelReducer\";\r\nimport \"./rate-picker.scss\";\r\nimport { OrderState } from \"../../store/orderReducer\";\r\nimport CustomRadio from \"../custom-radio/custom-radio\";\r\n\r\ninterface RatePickerProps {\r\n  handleChangeValue: (e: React.ChangeEvent<HTMLInputElement>) => void;\r\n}\r\n\r\ninterface RatePickerState {\r\n  model: ModelState;\r\n  order: OrderState;\r\n}\r\n\r\nconst ratesSelector = (state: RatePickerState) => state.model.rates;\r\nconst rateSelector = (state: RatePickerState) => state.order.rate;\r\n\r\nconst RatePicker = ({ handleChangeValue }: RatePickerProps) => {\r\n  const rates = useSelector(ratesSelector);\r\n  const selectedRate = useSelector(rateSelector);\r\n\r\n  const rateOptions = useMemo(() => {\r\n    return rates.map((rate: IRate, index) => {\r\n      const id = `rate${index}`;\r\n      return (\r\n        <React.Fragment key={id}>\r\n          <CustomRadio\r\n            id={id}\r\n            name=\"rate\"\r\n            defaultChecked={\r\n              selectedRate.rateTypeId.name === rate.rateTypeId.name\r\n            }\r\n            text={`${rate.rateTypeId.name}, ${rate.price}₽/${rate.rateTypeId.unit}`}\r\n          />\r\n        </React.Fragment>\r\n      );\r\n    });\r\n  }, [rates, selectedRate.rateTypeId.name]);\r\n\r\n  return (\r\n    <div className=\"rate-picker_container\">\r\n      <label>Тариф</label>\r\n      <div className=\"rate-picker\" onChange={handleChangeValue}>\r\n        {rateOptions}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RatePicker;\r\n","import React, { useMemo } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { ModelState } from \"../../store/modelReducer\";\r\nimport \"./color-picker.scss\";\r\nimport { OrderState } from \"../../store/orderReducer\";\r\nimport CustomRadio from \"../custom-radio/custom-radio\";\r\n\r\ninterface ColorPickerProps {\r\n  handleChangeValue: (e: React.ChangeEvent<HTMLInputElement>) => void;\r\n}\r\n\r\ninterface StepThreeState {\r\n  model: ModelState;\r\n  order: OrderState;\r\n}\r\n\r\nconst modelSelector = (state: StepThreeState) => state.model.model;\r\nconst colorSelector = (state: StepThreeState) => state.order.color;\r\n\r\nconst ColorPicker = ({ handleChangeValue }: ColorPickerProps) => {\r\n  const model = useSelector(modelSelector);\r\n  const selectedColor = useSelector(colorSelector);\r\n\r\n  const colorOptions = useMemo(() => {\r\n    const colors = model.colors;\r\n    const id = \"100\";\r\n    const colorOptionsTemplate = [\r\n      <React.Fragment key={id}>\r\n        <CustomRadio name=\"color\" id={id} defaultChecked={false} text=\"Любой\" />\r\n      </React.Fragment>,\r\n    ];\r\n    return colorOptionsTemplate.concat(\r\n      colors.map((color, index) => {\r\n        const id = index.toString();\r\n        return (\r\n          <React.Fragment key={id}>\r\n            <CustomRadio\r\n              name=\"color\"\r\n              id={id}\r\n              defaultChecked={selectedColor === color}\r\n              text={color}\r\n            />\r\n          </React.Fragment>\r\n        );\r\n      })\r\n    );\r\n  }, [model.colors, selectedColor]);\r\n\r\n  return (\r\n    <div className=\"color-picker_container\">\r\n      <label>Цвет</label>\r\n      <div className=\"color-picker\" onChange={handleChangeValue}>\r\n        {colorOptions}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ColorPicker;\r\n","import React, { useCallback } from \"react\";\r\nimport Datetime from \"react-datetime\";\r\nimport \"./date-time-picker.scss\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setDateFrom, setDateTo } from \"../../store/actions\";\r\nimport { OrderState } from \"../../store/orderReducer\";\r\nimport { Moment } from \"moment\";\r\n\r\ninterface DateTimePickerState {\r\n  order: OrderState;\r\n}\r\n\r\nconst dateFromSelector = (state: DateTimePickerState) => state.order.dateFrom;\r\nconst dateToSelector = (state: DateTimePickerState) => state.order.dateTo;\r\n\r\nconst DateTimePicker = () => {\r\n  const dispatch = useDispatch();\r\n  const startDate = useSelector(dateFromSelector);\r\n  const endDate = useSelector(dateToSelector);\r\n\r\n  const handleChangeStartDate = useCallback(\r\n    (date: string | Moment) => {\r\n      dispatch(setDateFrom(date));\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const handleChangeEndDate = useCallback(\r\n    (date: string | Moment) => {\r\n      dispatch(setDateTo(date));\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  return (\r\n    <div className=\"date-time-picker_container\">\r\n      <label>Дата аренды</label>\r\n      <div className=\"date-time-picker\">\r\n        <div>\r\n          <label htmlFor=\"stateDate\">С</label>\r\n          <Datetime\r\n            value={startDate}\r\n            onChange={handleChangeStartDate}\r\n            dateFormat=\"DD.MM.YYYY\"\r\n            timeFormat=\"HH:mm\"\r\n            inputProps={{ placeholder: \"Введите дату и время\" }}\r\n          />\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"endDate\">По</label>\r\n          <Datetime\r\n            value={endDate}\r\n            onChange={handleChangeEndDate}\r\n            dateFormat=\"DD.MM.YYYY\"\r\n            timeFormat=\"HH:mm\"\r\n            inputProps={{ placeholder: \"Введите дату и время\" }}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DateTimePicker;\r\n","import React, { useCallback, useEffect } from \"react\";\r\nimport \"./step-three.scss\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  fetchRates,\r\n  setAvailable,\r\n  setChildChair,\r\n  setColor,\r\n  setFullTank,\r\n  setRate,\r\n  setRightWheel,\r\n} from \"../../store/actions\";\r\nimport AdditionalRatePicker from \"../additional-rate-picker/additional-rate-picker\";\r\nimport RatePicker from \"../rate-picker/rate-picker\";\r\nimport ColorPicker from \"../color-picker/color-picker\";\r\nimport DateTimePicker from \"../date-time-picker/date-time-picker\";\r\nimport {\r\n  modelSelector,\r\n  orderSelector,\r\n  ratesSelector,\r\n} from \"../../store/selectors\";\r\n\r\nconst StepThree = () => {\r\n  const model = useSelector(modelSelector);\r\n  const rates = useSelector(ratesSelector);\r\n  const order = useSelector(orderSelector);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (!rates?.length) {\r\n      (async () => {\r\n        dispatch(fetchRates());\r\n      })();\r\n    }\r\n  }, [dispatch, rates?.length]);\r\n\r\n  const handleColorChangeValue = useCallback(\r\n    (e: React.ChangeEvent<HTMLInputElement>) => {\r\n      let color = model.colors[parseInt(e.target.id)];\r\n      if (!color) {\r\n        color = model.colors[Math.floor(Math.random() * model.colors.length)];\r\n      }\r\n      dispatch(setColor(color));\r\n    },\r\n    [dispatch, model.colors]\r\n  );\r\n\r\n  const handleChangeAdditionalRateValue = useCallback(\r\n    (e: React.ChangeEvent<HTMLInputElement>) => {\r\n      const rateId = e.target.id;\r\n      const value = e.target.checked;\r\n      switch (rateId) {\r\n        case \"service1\": {\r\n          dispatch(setFullTank(value));\r\n          break;\r\n        }\r\n        case \"service2\": {\r\n          dispatch(setChildChair(value));\r\n          break;\r\n        }\r\n        case \"service3\": {\r\n          dispatch(setRightWheel(value));\r\n          break;\r\n        }\r\n        default: {\r\n        }\r\n      }\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const handleChangeRateValue = useCallback(\r\n    (e: React.ChangeEvent<HTMLInputElement>) => {\r\n      const id = e.target.id.replace(\"rate\", \"\");\r\n      const value = rates[Number.parseInt(id)];\r\n      dispatch(setRate(value));\r\n    },\r\n    [dispatch, rates]\r\n  );\r\n  useEffect(() => {\r\n    if (order.color && order.dateFrom && order.dateTo && order.price) {\r\n      dispatch(setAvailable(true));\r\n    } else {\r\n      dispatch(setAvailable(false));\r\n    }\r\n  }, [dispatch, order.color, order.dateFrom, order.dateTo, order.price]);\r\n\r\n  return (\r\n    <div className=\"addition-container\">\r\n      <form>\r\n        <ColorPicker handleChangeValue={handleColorChangeValue} />\r\n        <DateTimePicker />\r\n        <RatePicker handleChangeValue={handleChangeRateValue} />\r\n        <AdditionalRatePicker\r\n          handleChangeValue={handleChangeAdditionalRateValue}\r\n        />\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StepThree;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"./step-four.scss\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { loadCarImage } from \"../../api/api-factory\";\r\nimport { modelSelector, orderSelector } from \"../../store/selectors\";\r\n\r\nconst StepFour = () => {\r\n  const model = useSelector(modelSelector);\r\n  const order = useSelector(orderSelector);\r\n\r\n  const [imgSrc, setImgSrc] = useState(\"\");\r\n  useEffect(() => {\r\n    loadCarImage(model.thumbnail.path).then((blob) => {\r\n      setImgSrc(URL.createObjectURL(blob));\r\n    });\r\n  }, [model.thumbnail.path]);\r\n  return (\r\n    <div className=\"total-container\">\r\n      <div className=\"total-card\">\r\n        <h4>{model.name}</h4>\r\n        {model.number ? (\r\n          <div className=\"model-number\">{model.number}</div>\r\n        ) : null}\r\n        {order.isFullTank ? (\r\n          <p>\r\n            <b>Топливо</b> 100%\r\n          </p>\r\n        ) : null}\r\n        <p>\r\n          <b>Доступна с</b> {order.dateFrom?.format(\"DD.MM.YYYY HH:mm\")}\r\n        </p>\r\n      </div>\r\n      <img src={imgSrc} alt=\"car\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StepFour;\r\n","import React, { useCallback, useEffect, useState } from \"react\";\r\nimport Header from \"../../header/header\";\r\nimport \"./order-page.scss\";\r\nimport { Tab, TabList, TabPanel, Tabs } from \"react-tabs\";\r\nimport StepOne from \"../../step-one/step-one\";\r\nimport OrderDetails from \"../../order-details/order-details\";\r\nimport StepTwo from \"../../step-two/step-two\";\r\nimport StepThree from \"../../step-three/step-three\";\r\nimport StepFour from \"../../step-four/step-four\";\r\nimport { OrderState } from \"../../../store/orderReducer\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\ninterface OrderPageState {\r\n  order: OrderState;\r\n}\r\n\r\nconst stageSelector = (state: OrderPageState) => state.order.stage;\r\n\r\nconst OrderPage = () => {\r\n  const stage = useSelector(stageSelector);\r\n  const [tabIndex, setTabIndex] = useState(stage - 1);\r\n\r\n  useEffect(() => {\r\n    setTabIndex(stage - 1);\r\n  }, [stage]);\r\n\r\n  const handleTabSelect = useCallback((index) => {\r\n    setTabIndex(index);\r\n  }, []);\r\n  return (\r\n    <div className=\"order-page-container\">\r\n      <Header />\r\n      <Tabs selectedIndex={tabIndex} onSelect={handleTabSelect}>\r\n        <div className=\"order-nav-bar-container\">\r\n          <TabList className=\"order-nav-bar\">\r\n            <Tab\r\n              className=\"tab-button link\"\r\n              default\r\n              selectedClassName=\"link__accent\"\r\n            >\r\n              Местоположение\r\n            </Tab>\r\n            <Tab\r\n              className=\"tab-button link\"\r\n              selectedClassName=\"link__accent\"\r\n              disabledClassName=\"link__disabled\"\r\n              disabled={stage < 2}\r\n              selected={stage === 2}\r\n            >\r\n              Модель\r\n            </Tab>\r\n            <Tab\r\n              className=\"tab-button link\"\r\n              disabled={stage < 3}\r\n              disabledClassName=\"link__disabled\"\r\n              selectedClassName=\"link__accent\"\r\n              selected={stage === 3}\r\n            >\r\n              Дополнительно\r\n            </Tab>\r\n            <Tab\r\n              className=\"tab-button link\"\r\n              disabled={stage < 4}\r\n              disabledClassName=\"link__disabled\"\r\n              selectedClassName=\"link__accent\"\r\n              selected={stage === 4}\r\n            >\r\n              Итого\r\n            </Tab>\r\n          </TabList>\r\n        </div>\r\n        <TabPanel className=\"react-tabs__tab-panel\">\r\n          <main className=\"order-container\">\r\n            <StepOne />\r\n            <OrderDetails stage={1} />\r\n          </main>\r\n        </TabPanel>\r\n        <TabPanel>\r\n          <main className=\"order-container\">\r\n            <StepTwo />\r\n            <OrderDetails stage={2} />\r\n          </main>\r\n        </TabPanel>\r\n        <TabPanel>\r\n          <main className=\"order-container\">\r\n            <StepThree />\r\n            <OrderDetails stage={3} />\r\n          </main>\r\n        </TabPanel>\r\n        <TabPanel>\r\n          <main className=\"order-container\">\r\n            <StepFour />\r\n            <OrderDetails stage={4} />\r\n          </main>\r\n        </TabPanel>\r\n      </Tabs>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderPage;\r\n","import React from \"react\";\r\nimport \"./burger-menu.scss\";\r\nimport classNames from \"classnames\";\r\n\r\ninterface IBurger {\r\n  isActive: boolean;\r\n  changeActive: () => void;\r\n}\r\n\r\nconst BurgerMenu = ({ isActive, changeActive }: IBurger) => {\r\n  const buttonClass = classNames(\"burger-menu\", {\r\n    \"burger-menu__active\": isActive,\r\n  });\r\n  return (\r\n    <button className={buttonClass} onClick={changeActive}>\r\n      <div />\r\n      <div />\r\n      <div />\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default BurgerMenu;\r\n","import React from \"react\";\r\nimport \"./menu.scss\";\r\n\r\ninterface IMenu {\r\n  isOpen: boolean;\r\n}\r\n\r\nconst Menu = (props: IMenu) => {\r\n  const { isOpen } = props;\r\n  return (\r\n    <nav className={`modal ${isOpen ? \"modal__active\" : \"\"}`}>\r\n      <ul className=\"modal_menu menu\">\r\n        <li>\r\n          <a href=\"#\" target=\"_blank\">\r\n            Парковка\r\n          </a>\r\n        </li>\r\n        <li>\r\n          <a href=\"#\" target=\"_blank\">\r\n            Страховка\r\n          </a>\r\n        </li>\r\n        <li>\r\n          <a href=\"#\" target=\"_blank\">\r\n            Бензин\r\n          </a>\r\n        </li>\r\n        <li>\r\n          <a href=\"#\" target=\"_blank\">\r\n            Обслуживание\r\n          </a>\r\n        </li>\r\n        <li>\r\n          <ul className=\"menu menu__horizontal\">\r\n            <li>\r\n              <a href=\"#\" target=\"_blank\">\r\n                <span className=\"telegram\" />\r\n              </a>\r\n            </li>\r\n            <li>\r\n              <a href=\"#\" target=\"_blank\">\r\n                <span className=\"facebook\" />\r\n              </a>\r\n            </li>\r\n            <li>\r\n              <a href=\"#\" target=\"_blank\">\r\n                <span className=\"instagram\" />\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Menu;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Header from \"../../header/header\";\r\nimport \"./final-page.scss\";\r\nimport OrderDetails from \"../../order-details/order-details\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getOrder, loadCarImage } from \"../../../api/api-factory\";\r\nimport { setCity, setModel, setOrder, setPoint } from \"../../../store/actions\";\r\nimport moment from \"moment\";\r\nimport { modelSelector, orderSelector } from \"../../../store/selectors\";\r\nimport { OrderState } from \"../../../store/orderReducer\";\r\n\r\ninterface FinalPageParams {\r\n  orderId: string;\r\n}\r\n\r\nconst FinalPage = () => {\r\n  const model = useSelector(modelSelector);\r\n  const order = useSelector(orderSelector);\r\n  const dispatch = useDispatch();\r\n  const { orderId }: FinalPageParams = useParams();\r\n\r\n  const [imgSrc, setImgSrc] = useState(\"\");\r\n  useEffect(() => {\r\n    loadCarImage(model.thumbnail.path).then((blob) => {\r\n      setImgSrc(URL.createObjectURL(blob));\r\n    });\r\n  }, [model.thumbnail.path]);\r\n\r\n  useEffect(() => {\r\n    if (!order.price) {\r\n      getOrder(orderId).then((res) => {\r\n        const data = res.data;\r\n        const orderRequest = {\r\n          price: data.price,\r\n          color: data.color,\r\n          dateFrom: moment(data.dateFrom),\r\n          dateTo: moment(data.dateTo),\r\n          available: true,\r\n          isFullTank: data.isFullTank,\r\n          isNeedChildChair: data.isNeedChildChair,\r\n          isRightWheel: data.isRightWheel,\r\n          rate: data.rateId,\r\n        } as OrderState;\r\n        dispatch(setCity(data.cityId));\r\n        dispatch(setModel(data.carId));\r\n        dispatch(setPoint(data.pointId));\r\n        dispatch(setOrder(orderRequest));\r\n      });\r\n    }\r\n  }, [dispatch, orderId]);\r\n\r\n  return (\r\n    <div className=\"order-page-container\">\r\n      <Header />\r\n      <div className=\"order-nav-bar-container\">\r\n        <div className=\"order-nav-bar\">Заказ номер {orderId}</div>\r\n      </div>\r\n      <main className=\"order-container\">\r\n        <div className=\"total-container\">\r\n          <div className=\"total-card\">\r\n            <h2>Ваш заказ подтверждён</h2>\r\n            <h4>{model.name}</h4>\r\n            {model.number && <div className=\"model-number\">{model.number}</div>}\r\n            {order.isFullTank && (\r\n              <p>\r\n                <b>Топливо</b> 100%\r\n              </p>\r\n            )}\r\n            <p>\r\n              <b>Доступна с</b> {order.dateFrom?.format(\"DD.MM.YYYY HH:mm\")}\r\n            </p>\r\n          </div>\r\n          <img src={imgSrc} alt=\"car\" />\r\n        </div>\r\n        <OrderDetails stage={5} />\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FinalPage;\r\n","import React, { useCallback, useState } from \"react\";\r\nimport \"./App.scss\";\r\nimport StartPage from \"./components/pages/start-page/start-page\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport OrderPage from \"./components/pages/order-page/order-page\";\r\nimport BurgerMenu from \"./components/burger-menu/burger-menu\";\r\nimport Menu from \"./components/menu/menu\";\r\nimport FinalPage from \"./components/pages/final-page/final-page\";\r\n\r\nfunction App() {\r\n  const [showMenu, setShowMenu] = useState(false);\r\n\r\n  const changeActive = useCallback(() => {\r\n    setShowMenu((prev: boolean) => !prev);\r\n  }, [setShowMenu]);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <Menu isOpen={showMenu} />\r\n      <aside className=\"side-bar\">\r\n        <BurgerMenu isActive={showMenu} changeActive={changeActive} />\r\n        <button className=\"language-btn\">Eng</button>\r\n      </aside>\r\n      <Switch>\r\n        <Route exact path=\"/\" component={StartPage} />\r\n        <Route exact path=\"/order\" component={OrderPage} />\r\n        <Route exact path=\"/order/:orderId\" component={FinalPage} />\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);  \r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n}\r\n\r\nexport default reportWebVitals;\r\n","import { FETCH_CITIES, FETCH_POINTS, SET_POINT, SET_CITY } from \"./types\";\r\nimport ICity from \"./interfaces/i-city\";\r\nimport IPoint from \"./interfaces/i-point\";\r\nimport IAction from \"./interfaces/i-action\";\r\n\r\nconst initialState: LocationState = {\r\n  city: {\r\n    name: \"\",\r\n    id: \"\",\r\n  },\r\n  point: {\r\n    id: \"\",\r\n    name: \"\",\r\n    address: \"\",\r\n    cityId: {\r\n      id: \"\",\r\n    },\r\n  },\r\n  cities: [],\r\n  points: [],\r\n};\r\n\r\nexport interface LocationState {\r\n  city: ICity;\r\n  point: IPoint;\r\n  cities: ICity[];\r\n  points: IPoint[];\r\n}\r\n\r\nconst locationReducer = (state = initialState, action: IAction) => {\r\n  switch (action.type) {\r\n    case SET_CITY: {\r\n      return {\r\n        ...state,\r\n        city: action.payload,\r\n      };\r\n    }\r\n    case SET_POINT: {\r\n      return {\r\n        ...state,\r\n        point: action.payload,\r\n      };\r\n    }\r\n    case FETCH_CITIES: {\r\n      return {\r\n        ...state,\r\n        cities: action.payload,\r\n      };\r\n    }\r\n    case FETCH_POINTS: {\r\n      return {\r\n        ...state,\r\n        points: action.payload,\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default locationReducer;\r\n","import { FETCH_CARS, FETCH_RATES, SET_MODEL } from \"./types\";\r\nimport ICar from \"./interfaces/i-car\";\r\nimport IAction from \"./interfaces/i-action\";\r\nimport IRate from \"./interfaces/i-rate\";\r\n\r\nconst initialState: ModelState = {\r\n  model: {\r\n    id: \"\",\r\n    colors: [],\r\n    name: \"\",\r\n    description: \"\",\r\n    number: \"\",\r\n    priceMax: 0,\r\n    priceMin: 0,\r\n    tank: 0,\r\n    thumbnail: {\r\n      mimetype: \"\",\r\n      originalname: \"\",\r\n      path: \"\",\r\n    },\r\n    categoryId: {\r\n      description: \"\",\r\n      name: \"\",\r\n      id: \"\",\r\n    },\r\n  },\r\n  cars: [],\r\n  rates: [],\r\n};\r\n\r\nexport interface ModelState {\r\n  model: ICar;\r\n  cars: ICar[];\r\n  rates: IRate[];\r\n}\r\n\r\nconst modelReducer = (state: ModelState = initialState, action: IAction) => {\r\n  switch (action.type) {\r\n    case FETCH_CARS: {\r\n      return {\r\n        ...state,\r\n        cars: action.payload,\r\n      };\r\n    }\r\n    case FETCH_RATES: {\r\n      return {\r\n        ...state,\r\n        rates: action.payload,\r\n      };\r\n    }\r\n    case SET_MODEL: {\r\n      return {\r\n        ...state,\r\n        model: action.payload,\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default modelReducer;\r\n","import {\r\n  CHANGE_STAGE,\r\n  ROLLBACK_ORDER,\r\n  SET_AVAILABLE,\r\n  SET_CHILD_CHAIR,\r\n  SET_COLOR,\r\n  SET_DATE_FROM,\r\n  SET_DATE_TO,\r\n  SET_FULL_TANK,\r\n  SET_ORDER,\r\n  SET_PRICE,\r\n  SET_RATE,\r\n  SET_RIGHT_WHEEL,\r\n} from \"./types\";\r\nimport IAction from \"./interfaces/i-action\";\r\nimport IRate from \"./interfaces/i-rate\";\r\nimport { Moment } from \"moment\";\r\n\r\nconst initialState: OrderState = {\r\n  color: \"\",\r\n  isFullTank: false,\r\n  isNeedChildChair: false,\r\n  isRightWheel: false,\r\n  price: 0,\r\n  rate: {\r\n    id: \"\",\r\n    price: 0,\r\n    rateTypeId: {\r\n      name: \"\",\r\n      unit: \"\",\r\n    },\r\n  },\r\n  stage: 1,\r\n  available: false,\r\n};\r\n\r\nexport interface OrderState {\r\n  color: string;\r\n  dateFrom?: Moment;\r\n  dateTo?: Moment;\r\n  price: number;\r\n  isFullTank: boolean;\r\n  isNeedChildChair: boolean;\r\n  isRightWheel: boolean;\r\n  rate: IRate;\r\n  stage: number;\r\n  available: boolean;\r\n}\r\n\r\nconst orderReducer = (state: OrderState = initialState, action: IAction) => {\r\n  switch (action.type) {\r\n    case SET_COLOR: {\r\n      return {\r\n        ...state,\r\n        color: action.payload,\r\n      };\r\n    }\r\n    case SET_PRICE: {\r\n      return {\r\n        ...state,\r\n        price: action.payload,\r\n      };\r\n    }\r\n    case SET_RATE: {\r\n      return {\r\n        ...state,\r\n        rate: action.payload,\r\n      };\r\n    }\r\n    case SET_FULL_TANK: {\r\n      return {\r\n        ...state,\r\n        isFullTank: action.payload,\r\n      };\r\n    }\r\n    case SET_CHILD_CHAIR: {\r\n      return {\r\n        ...state,\r\n        isNeedChildChair: action.payload,\r\n      };\r\n    }\r\n    case SET_RIGHT_WHEEL: {\r\n      return {\r\n        ...state,\r\n        isRightWheel: action.payload,\r\n      };\r\n    }\r\n    case SET_DATE_FROM: {\r\n      return {\r\n        ...state,\r\n        dateFrom: action.payload,\r\n      };\r\n    }\r\n    case SET_DATE_TO: {\r\n      return {\r\n        ...state,\r\n        dateTo: action.payload,\r\n      };\r\n    }\r\n    case SET_AVAILABLE: {\r\n      return {\r\n        ...state,\r\n        available: action.payload,\r\n      };\r\n    }\r\n    case SET_ORDER: {\r\n      if (typeof action.payload === \"object\") {\r\n        return {\r\n          ...state,\r\n          ...action.payload,\r\n        };\r\n      } else {\r\n        return state;\r\n      }\r\n    }\r\n    case ROLLBACK_ORDER: {\r\n      if (typeof action.payload === \"object\") {\r\n        return {\r\n          ...state,\r\n          ...action.payload,\r\n        };\r\n      } else {\r\n        return state;\r\n      }\r\n    }\r\n    case CHANGE_STAGE: {\r\n      if (typeof action.payload === \"number\") {\r\n        return {\r\n          ...state,\r\n          stage: action.payload,\r\n        };\r\n      } else {\r\n        return state;\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default orderReducer;\r\n","import { AUTHENTICATE, UNAUTHENTICATE } from \"./types\";\nimport IAction from \"./interfaces/i-action\";\n\nconst initialState: AuthState = {\n  accessToken: \"\",\n  refreshToken: \"\",\n  tokenType: \"\",\n  userId: \"\",\n  expiresIn: 0,\n  isAuthenticated: false,\n};\n\nexport interface AuthState {\n  tokenType: string;\n  accessToken: string;\n  expiresIn: number;\n  refreshToken: string;\n  userId: string;\n  isAuthenticated: boolean;\n}\n\nconst authReducer = (state: AuthState = initialState, action: IAction) => {\n  switch (action.type) {\n    case AUTHENTICATE: {\n      if (typeof action.payload === \"object\") {\n        return {\n          ...state,\n          ...action.payload,\n        };\n      }\n      return state;\n    }\n    case UNAUTHENTICATE: {\n      return {\n        ...initialState,\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default authReducer;\n","import { combineReducers } from \"redux\";\r\nimport locationReducer from \"./locationReducer\";\r\nimport modelReducer from \"./modelReducer\";\r\nimport orderReducer from \"./orderReducer\";\r\nimport authReducer from \"./authReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  location: locationReducer,\r\n  model: modelReducer,\r\n  order: orderReducer,\r\n  auth: authReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import { applyMiddleware, compose, createStore } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport rootReducer from \"./rootReducer\";\r\n\r\nconst store = createStore(rootReducer, compose(applyMiddleware(thunk)));\r\n\r\nexport default store;\r\n","import React, { ChangeEvent } from \"react\";\r\nimport \"./custom-input.scss\";\r\nimport classNames from \"classnames\";\r\n\r\ninterface CustomInputProps {\r\n  label: string;\r\n  type: string;\r\n  value: string;\r\n  onValueChange: (e: ChangeEvent<HTMLInputElement>) => void;\r\n  isError?: boolean;\r\n}\r\n\r\nconst CustomInput = ({\r\n  label,\r\n  type,\r\n  value,\r\n  onValueChange,\r\n  isError,\r\n}: CustomInputProps) => {\r\n  const inputClass = classNames({\r\n    error: isError,\r\n  });\r\n  return (\r\n    <div className=\"custom-input\">\r\n      <label>{label}</label>\r\n      <input\r\n        type={type}\r\n        value={value}\r\n        onChange={onValueChange}\r\n        className={inputClass}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CustomInput;\r\n","import React, { ChangeEvent, useCallback, useState } from \"react\";\r\nimport \"./login-page.scss\";\r\nimport CustomInput from \"../../admin/custom-input/custom-input\";\r\nimport { login } from \"../../../api/api-factory\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { authenticate } from \"../../../store/actions\";\r\nimport { AuthState } from \"../../../store/authReducer\";\r\nimport { useAlert } from \"react-alert\";\r\n\r\nconst LoginPage = () => {\r\n  const [mail, setMail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const alert = useAlert();\r\n\r\n  const handleMailChange = useCallback((e: ChangeEvent<HTMLInputElement>) => {\r\n    setMail(e.target.value);\r\n  }, []);\r\n\r\n  const handlePasswordChange = useCallback(\r\n    (e: ChangeEvent<HTMLInputElement>) => {\r\n      setPassword(e.target.value);\r\n    },\r\n    []\r\n  );\r\n\r\n  const handleLogin = useCallback(() => {\r\n    if (mail && password) {\r\n      login(mail, password)\r\n        .then((res) => {\r\n          const newAuth = {\r\n            accessToken: res.access_token,\r\n            userId: res.user_id,\r\n            tokenType: res.token_type,\r\n            refreshToken: res.refresh_token,\r\n            expiresIn: res.expires_in,\r\n            isAuthenticated: true,\r\n          } as AuthState;\r\n          dispatch(authenticate(newAuth));\r\n          history.push(`/admin/orders`);\r\n        })\r\n        .catch(() => {\r\n          alert.show(\"Ошибка входа\");\r\n        });\r\n    }\r\n  }, [alert, dispatch, history, mail, password]);\r\n\r\n  const handleEnterPress = useCallback(\r\n    (e) => {\r\n      if (e.key === \"Enter\") {\r\n        handleLogin();\r\n      }\r\n    },\r\n    [handleLogin]\r\n  );\r\n  return (\r\n    <div className=\"login-page_container\">\r\n      <div className=\"login-page\">\r\n        <div className=\"login-page_header\">\r\n          <img src=\"../assets/logo.svg\" alt=\"logo\" />\r\n          <h3>Need for drive</h3>\r\n        </div>\r\n        <div className=\"dialog\">\r\n          <h3 className=\"dialog_header\">Вход</h3>\r\n          <form className=\"dialog_form\" onKeyPress={handleEnterPress}>\r\n            <CustomInput\r\n              label=\"Почта\"\r\n              type=\"email\"\r\n              value={mail}\r\n              onValueChange={handleMailChange}\r\n            />\r\n            <CustomInput\r\n              label=\"Пароль\"\r\n              type=\"password\"\r\n              value={password}\r\n              onValueChange={handlePasswordChange}\r\n            />\r\n          </form>\r\n          <div className=\"dialog_button-group\">\r\n            <a href=\"#\">Запросить доступ</a>\r\n            <button className=\"button-adm\" onClick={handleLogin}>\r\n              Войти\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport moment from \"moment\";\r\nimport CustomCheckbox from \"../custom-checkbox/custom-checkbox\";\r\nimport IOrder from \"../../store/interfaces/i-order\";\r\nimport \"./admin-order-table-row.scss\";\r\nimport { loadCarImage } from \"../../api/api-factory\";\r\n\r\ninterface AdminOrderTableRowProps {\r\n  order: IOrder;\r\n}\r\n\r\nconst AdminOrderTableRow = ({ order }: AdminOrderTableRowProps) => {\r\n  const [imgSrc, setImgSrc] = useState(\"\");\r\n  useEffect(() => {\r\n    if (order.carId) {\r\n      loadCarImage(order.carId.thumbnail.path).then((blob) => {\r\n        setImgSrc(URL.createObjectURL(blob));\r\n      });\r\n    }\r\n  }, [order.carId]);\r\n  return (\r\n    <div className=\"admin-order-table-row\">\r\n      <div className=\"admin-order-table-row_column\">\r\n        <img className=\"admin-order-table-row_img\" src={imgSrc} alt=\"car\" />\r\n      </div>\r\n      <div className=\"admin-order-table-row_column admin-order-table-row_info\">\r\n        <p>\r\n          <span className=\"admin-order-table-row_info__black\">\r\n            {order.carId?.name ?? \"N/A\"}\r\n          </span>\r\n          {` в `}\r\n          <span className=\"admin-order-table-row_info__black\">{`${\r\n            order.cityId.name ?? \"N/A\"\r\n          },`}</span>{\" \"}\r\n          {order.pointId.address ?? \"N/A\"}\r\n        </p>\r\n        <p>{`${moment(order.dateFrom).format(\"DD.MM.YYYY HH:mm\") ?? \"N/A\"} - ${\r\n          moment(order.dateTo).format(\"DD.MM.YYYY HH:mm\") ?? \"N/A\"\r\n        }`}</p>\r\n        <p>\r\n          {`Цвет: `}\r\n          <span className=\"admin-order-table-row_info__black admin-order-table-row_info__capitalized\">\r\n            {order.color ?? \"N/A\"}\r\n          </span>\r\n        </p>\r\n      </div>\r\n      <div className=\"admin-order-table-row_column admin-order-table-row_checkbox\">\r\n        <CustomCheckbox\r\n          id=\"service1\"\r\n          name=\"service1\"\r\n          checked={order.isFullTank}\r\n          text=\"Полный бак\"\r\n        />\r\n        <CustomCheckbox\r\n          id=\"service2\"\r\n          name=\"service2\"\r\n          checked={order.isNeedChildChair}\r\n          text=\"Детское кресло\"\r\n        />\r\n        <CustomCheckbox\r\n          id=\"service3\"\r\n          name=\"service3\"\r\n          checked={order.isRightWheel}\r\n          text=\"Правый руль\"\r\n        />\r\n      </div>\r\n      <div className=\"admin-order-table-row_column\">\r\n        <h3 className=\"admin-order-table-row_price\">{order.price}</h3>\r\n      </div>\r\n      <div className=\"admin-order-table-row_column\">\r\n        <div className=\"admin-order-table-row_button-group\">\r\n          <button>\r\n            <span className=\"check\">Готово</span>\r\n          </button>\r\n          <button>\r\n            <span className=\"reject\">Отмена</span>\r\n          </button>\r\n          <button>\r\n            <span className=\"edit\">Изменить</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminOrderTableRow;\r\n","import React, { useCallback, useMemo } from \"react\";\r\n\r\nimport \"./pagination.scss\";\r\n\r\ninterface PaginationProps {\r\n  totalRecords: number;\r\n  limitRecords: number;\r\n  neighbourPages: number;\r\n  currentPage: number;\r\n  setCurrentPage: any;\r\n}\r\n\r\nconst Pagination = ({\r\n  totalRecords,\r\n  limitRecords,\r\n  neighbourPages = 0,\r\n  currentPage,\r\n  setCurrentPage,\r\n}: PaginationProps) => {\r\n  const totalPages = useMemo(() => {\r\n    return Math.ceil(totalRecords / limitRecords);\r\n  }, [totalRecords, limitRecords]);\r\n\r\n  const handleLeftClick = useCallback(() => {\r\n    if (currentPage > 1) {\r\n      setCurrentPage(currentPage - 1);\r\n    }\r\n  }, [currentPage, setCurrentPage]);\r\n\r\n  const handleRightClick = useCallback(() => {\r\n    if (currentPage < totalPages) {\r\n      setCurrentPage(currentPage + 1);\r\n    }\r\n  }, [currentPage, setCurrentPage, totalPages]);\r\n\r\n  return (\r\n    <nav className=\"pagination_container\">\r\n      <ul className=\"pagination\">\r\n        <li>\r\n          <button onClick={handleLeftClick}>{\"«\"}</button>\r\n        </li>\r\n        <li>{currentPage}</li>\r\n        <li>\r\n          <button onClick={handleRightClick}>{\"»\"}</button>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport IOrder from \"../../store/interfaces/i-order\";\r\nimport \"./admin-orders-table.scss\";\r\nimport AdminOrderTableRow from \"../admin-order-table-row/admin-order-table-row\";\r\nimport Pagination from \"../pagination/pagination\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { accessTokenSelector } from \"../../store/selectors\";\r\nimport { getOrders } from \"../../api/api-factory\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst limit = 5;\r\n\r\nconst AdminOrdersTable = () => {\r\n  const accessToken = useSelector(accessTokenSelector);\r\n  const [orders, setOrders] = useState([] as IOrder[]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [totalRecords, setTotalRecords] = useState(0);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    getOrders(accessToken, limit, currentPage)\r\n      .then((res) => {\r\n        setOrders(res.data);\r\n        setTotalRecords(res.count);\r\n      })\r\n      .catch(() => {\r\n        history.push(\"/admin/error\");\r\n      });\r\n  }, [accessToken, currentPage, history]);\r\n\r\n  return (\r\n    <div className=\"admin-orders-table\">\r\n      {orders.map((order) => {\r\n        return <AdminOrderTableRow order={order} />;\r\n      })}\r\n      <Pagination\r\n        totalRecords={totalRecords}\r\n        limitRecords={limit}\r\n        neighbourPages={2}\r\n        currentPage={currentPage}\r\n        setCurrentPage={setCurrentPage}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminOrdersTable;\r\n","import React from \"react\";\r\nimport \"./admin-orders-page.scss\";\r\nimport AdminOrdersTable from \"../../admin-orders-table/admin-orders-table\";\r\n\r\nconst AdminOrdersPage = () => {\r\n  return (\r\n    <div className=\"admin-page_container\">\r\n      <h1 className=\"admin-page_header\">Заказы</h1>\r\n      <div className=\"admin-page_card\">\r\n        <AdminOrdersTable />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminOrdersPage;\r\n","import React from \"react\";\r\nimport \"./admin-menu-item.scss\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\ninterface AdminMenuItemProps {\r\n  iconClassName: string;\r\n  label: string;\r\n  route: string;\r\n}\r\n\r\nconst AdminMenuItem = ({ iconClassName, label, route }: AdminMenuItemProps) => {\r\n  return (\r\n    <Link to={route} className=\"admin-menu-item\">\r\n      <span className={iconClassName} />\r\n      <h4>{label}</h4>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default AdminMenuItem;\r\n","import React from \"react\";\r\nimport AdminMenuItem from \"../admin-menu-item/admin-menu-item\";\r\n\r\nconst AdminMenu = () => {\r\n  return (\r\n    <ul>\r\n      <li>\r\n        <AdminMenuItem\r\n          iconClassName=\"auto\"\r\n          label=\"Карточка автомобиля\"\r\n          route=\"/admin/cars/:carId\"\r\n        />\r\n      </li>\r\n      <li>\r\n        <AdminMenuItem\r\n          iconClassName=\"auto-list\"\r\n          label=\"Список авто\"\r\n          route=\"/admin/orders\"\r\n        />\r\n      </li>\r\n      <li>\r\n        <AdminMenuItem\r\n          iconClassName=\"order\"\r\n          label=\"Заказы\"\r\n          route=\"/admin/orders\"\r\n        />\r\n      </li>\r\n      <li>\r\n        <AdminMenuItem\r\n          iconClassName=\"menu4\"\r\n          label=\"Автомобили\"\r\n          route=\"/admin/cars\"\r\n        />\r\n      </li>\r\n      <li>\r\n        <AdminMenuItem\r\n          iconClassName=\"menu5\"\r\n          label=\"Города\"\r\n          route=\"/admin/cities\"\r\n        />\r\n      </li>\r\n      <li>\r\n        <AdminMenuItem\r\n          iconClassName=\"menu6\"\r\n          label=\"Menu 6\"\r\n          route=\"/admin/orders\"\r\n        />\r\n      </li>\r\n      <li>\r\n        <AdminMenuItem\r\n          iconClassName=\"menu7\"\r\n          label=\"Error\"\r\n          route=\"/admin/error\"\r\n        />\r\n      </li>\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default AdminMenu;\r\n","import React, { useCallback } from \"react\";\r\nimport \"./admin-error-page.scss\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst AdminErrorPage = () => {\r\n  const history = useHistory();\r\n\r\n  const handleButtonClick = useCallback(() => {\r\n    history.goBack();\r\n  }, [history]);\r\n  return (\r\n    <div className=\"error-page\">\r\n      <h1>500</h1>\r\n      <h2>Что то пошло не так</h2>\r\n      <h3>Попробуйте перезагрузить страницу</h3>\r\n      <button className=\"button-adm\" onClick={handleButtonClick}>\r\n        Назад\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminErrorPage;\r\n","import React, { ChangeEvent, useCallback, useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport \"./admin-car-edit-page.scss\";\r\nimport CustomInput from \"../../admin/custom-input/custom-input\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { accessTokenSelector } from \"../../../store/selectors\";\r\nimport {\r\n  editCarById,\r\n  getCarById,\r\n  loadCarImage,\r\n  removeCarById,\r\n} from \"../../../api/api-factory\";\r\nimport ICar from \"../../../store/interfaces/i-car\";\r\nimport { useAlert } from \"react-alert\";\r\n\r\ninterface AdminCarEditPageParamTypes {\r\n  carId: string;\r\n}\r\n\r\nconst AdminCarEditPage = () => {\r\n  const accessToken = useSelector(accessTokenSelector);\r\n  const [modelName, setModelName] = useState(\"\");\r\n  const [modelType, setModelType] = useState(\"\");\r\n  const [defaultModelName, setDefaultModelName] = useState(\"\");\r\n  const [defaultModelType, setDefaultModelType] = useState(\"\");\r\n  const [progress, setProgress] = useState(0);\r\n  const [imgSrc, setImgSrc] = useState(\"\");\r\n  const [car, setCar] = useState({} as ICar);\r\n  const { carId } = useParams<AdminCarEditPageParamTypes>();\r\n  const history = useHistory();\r\n  const alert = useAlert();\r\n\r\n  useEffect(() => {\r\n    const totalFields = 2;\r\n    let filledFields = 0;\r\n    if (modelType) {\r\n      filledFields += 1;\r\n    }\r\n    if (modelName) {\r\n      filledFields += 1;\r\n    }\r\n    setProgress(Math.ceil((filledFields / totalFields) * 100));\r\n  }, [modelName, modelType]);\r\n\r\n  useEffect(() => {\r\n    if (car) {\r\n      setModelName(car.name);\r\n      setModelType(car.description);\r\n      setDefaultModelName(car.name);\r\n      setDefaultModelType(car.description);\r\n\r\n      if (!imgSrc && car?.thumbnail?.path) {\r\n        loadCarImage(car?.thumbnail?.path).then((blob) => {\r\n          setImgSrc(URL.createObjectURL(blob));\r\n        });\r\n      }\r\n    }\r\n  }, [car, imgSrc]);\r\n\r\n  useEffect(() => {\r\n    getCarById(accessToken, carId)\r\n      .then((res) => {\r\n        setCar(res.data);\r\n      })\r\n      .catch(() => {\r\n        history.push(\"/admin/error\");\r\n      });\r\n  }, [accessToken, carId, history]);\r\n\r\n  const handleSaveClick = useCallback(() => {\r\n    editCarById(accessToken, carId, modelName, modelType)\r\n      .then(() => {\r\n        alert.show(\"Изменения сохранены\", { type: \"success\" });\r\n        history.push(\"/admin/cars\");\r\n      })\r\n      .catch(() => {\r\n        alert.show(\"Ошибка сохранения\", { type: \"error\" });\r\n      });\r\n  }, [accessToken, alert, carId, history, modelName, modelType]);\r\n\r\n  const handleRemoveClick = useCallback(() => {\r\n    removeCarById(accessToken, carId)\r\n      .then(() => {\r\n        alert.show(\"Удаление прошло успешно\", { type: \"success\" });\r\n        history.push(\"/admin/cars\");\r\n      })\r\n      .catch(() => {\r\n        alert.show(\"Ошибка удаления\", { type: \"error\" });\r\n      });\r\n  }, [accessToken, alert, carId, history]);\r\n\r\n  const handleCancelClick = useCallback(() => {\r\n    setModelName(defaultModelName);\r\n    setModelType(defaultModelType);\r\n  }, [defaultModelName, defaultModelType]);\r\n\r\n  const handleModelNameChange = useCallback(\r\n    (e: ChangeEvent<HTMLInputElement>) => {\r\n      setModelName(e.target.value);\r\n    },\r\n    []\r\n  );\r\n  const handleModelTypeChange = useCallback(\r\n    (e: ChangeEvent<HTMLInputElement>) => {\r\n      setModelType(e.target.value);\r\n    },\r\n    []\r\n  );\r\n  return (\r\n    <div className=\"admin-page_container\">\r\n      <h1 className=\"admin-page_header\">Карточка автомобиля</h1>\r\n      <div className=\"admin-car-edit-page_container\">\r\n        <div className=\"admin-car-edit-page_card admin-car-edit-page_card__left\">\r\n          <div className=\"admin-car-edit-page_info\">\r\n            <img src={imgSrc} alt=\"car\" />\r\n            <h2>{car.name}</h2>\r\n            <h4>{car.description}</h4>\r\n          </div>\r\n          <div className=\"admin-car-edit-page_progress\">\r\n            <div>\r\n              <h4>Заполнено</h4>\r\n              <h4>{progress}%</h4>\r\n            </div>\r\n            <progress value={progress} max={100} />\r\n          </div>\r\n          <div className=\"admin-car-edit-page_description\">\r\n            <h5>Описание</h5>\r\n            <p>\r\n              Lorem ipsum dolor sit amet consectetur adipisicing elit. Odio\r\n              eaque, quidem, commodi soluta qui quae quod dolorum sint alias,\r\n              possimus illum assumenda eligendi cumque?\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div className=\"admin-car-edit-page_card admin-car-edit-page_card__right\">\r\n          <h3 className=\"admin-car-edit-page_header\">Настройки автомобиля</h3>\r\n          <div className=\"admin-car-edit-page_inputs\">\r\n            <CustomInput\r\n              label=\"Модель автомобиля\"\r\n              type=\"text\"\r\n              value={modelName}\r\n              onValueChange={handleModelNameChange}\r\n            />\r\n            <CustomInput\r\n              label=\"Тип автомобиля\"\r\n              type=\"text\"\r\n              value={modelType}\r\n              onValueChange={handleModelTypeChange}\r\n              isError={!modelType}\r\n            />\r\n          </div>\r\n          <div className=\"admin-car-edit-page_buttons\">\r\n            <div>\r\n              <button className=\"button-adm\" onClick={handleSaveClick}>\r\n                Сохранить\r\n              </button>\r\n              <button\r\n                className=\"button-adm button-adm__disabled\"\r\n                onClick={handleCancelClick}\r\n              >\r\n                Отменить\r\n              </button>\r\n            </div>\r\n            <button\r\n              className=\"button-adm button-adm__red\"\r\n              onClick={handleRemoveClick}\r\n            >\r\n              Удалить\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminCarEditPage;\r\n","import React, { useCallback, useEffect, useState } from \"react\";\r\nimport \"./admin-cars-table.scss\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { accessTokenSelector } from \"../../store/selectors\";\r\nimport { getCars } from \"../../api/api-factory\";\r\nimport ICar from \"../../store/interfaces/i-car\";\r\nimport Pagination from \"../pagination/pagination\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst limit = 5;\r\n\r\nconst AdminCarsTable = () => {\r\n  const accessToken = useSelector(accessTokenSelector);\r\n  const [cars, setCars] = useState([] as ICar[]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [totalRecords, setTotalRecords] = useState(0);\r\n  const history = useHistory();\r\n\r\n  const handleCarClick = useCallback(\r\n    (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\r\n      const target = event.target as HTMLDivElement;\r\n      const carRow = target.closest(\".admin-table_row\");\r\n\r\n      history.push(`/admin/cars/${carRow?.id}`);\r\n    },\r\n    [history]\r\n  );\r\n\r\n  useEffect(() => {\r\n    getCars(accessToken, limit, currentPage)\r\n      .then((res) => {\r\n        setCars(res.data);\r\n        setTotalRecords(res.count);\r\n      })\r\n      .catch(() => {\r\n        history.push(\"/admin/error\");\r\n      });\r\n  }, [accessToken, currentPage, history]);\r\n\r\n  return (\r\n    <div className=\"admin-table\">\r\n      <div className=\"admin-table_row admin-table_row__headers\">\r\n        <div>Название</div>\r\n        <div>Минимальная цена</div>\r\n        <div>Максимальная цена</div>\r\n      </div>\r\n      {cars.map((car) => {\r\n        return (\r\n          <div className=\"admin-table_row\" id={car.id} onClick={handleCarClick}>\r\n            <div>{car.name}</div>\r\n            <div>{car.priceMin}</div>\r\n            <div>{car.priceMax}</div>\r\n          </div>\r\n        );\r\n      })}\r\n      <Pagination\r\n        totalRecords={totalRecords}\r\n        limitRecords={limit}\r\n        neighbourPages={2}\r\n        currentPage={currentPage}\r\n        setCurrentPage={setCurrentPage}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminCarsTable;\r\n","import React from \"react\";\r\nimport \"./admin-cars-page.scss\";\r\nimport AdminCarsTable from \"../../admin-cars-table/admin-cars-table\";\r\n\r\nconst AdminCarsPage = () => {\r\n  return (\r\n    <div className=\"admin-page_container\">\r\n      <h1 className=\"admin-page_header\">Автомобили</h1>\r\n      <div className=\"admin-page_card\">\r\n        <AdminCarsTable />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminCarsPage;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"./admin-cities-table.scss\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { accessTokenSelector } from \"../../store/selectors\";\r\nimport { getCities } from \"../../api/api-factory\";\r\nimport Pagination from \"../pagination/pagination\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport ICity from \"../../store/interfaces/i-city\";\r\n\r\nconst limit = 5;\r\n\r\nconst AdminCitiesTable = () => {\r\n  const accessToken = useSelector(accessTokenSelector);\r\n  const [cities, setCities] = useState([] as ICity[]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [totalRecords, setTotalRecords] = useState(0);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    getCities(accessToken, limit, currentPage)\r\n      .then((res) => {\r\n        setCities(res.data);\r\n        setTotalRecords(res.count);\r\n      })\r\n      .catch(() => {\r\n        history.push(\"/admin/error\");\r\n      });\r\n  }, [accessToken, currentPage, history]);\r\n\r\n  return (\r\n    <div className=\"admin-table\">\r\n      <div className=\"admin-table_row admin-table_row__headers\">\r\n        <div>Название</div>\r\n      </div>\r\n      {cities.map((city) => {\r\n        return (\r\n          <div className=\"admin-table_row\">\r\n            <div>{city.name}</div>\r\n          </div>\r\n        );\r\n      })}\r\n      <Pagination\r\n        totalRecords={totalRecords}\r\n        limitRecords={limit}\r\n        neighbourPages={2}\r\n        currentPage={currentPage}\r\n        setCurrentPage={setCurrentPage}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminCitiesTable;\r\n","import React from \"react\";\r\nimport \"./admin-cities-page.scss\";\r\nimport AdminCitiesTable from \"../../admin-cities-table/admin-cities-table\";\r\n\r\nconst AdminCitiesPage = () => {\r\n  return (\r\n    <div className=\"admin-page_container\">\r\n      <h1 className=\"admin-page_header\">Города</h1>\r\n      <div className=\"admin-page_card\">\r\n        <AdminCitiesTable />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminCitiesPage;\r\n","import React from \"react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport AdminOrdersPage from \"../admin-orders-page/admin-orders-page\";\r\n\r\nimport \"./admin-interface-page.scss\";\r\nimport AdminMenu from \"../../admin-menu/admin-menu\";\r\nimport AdminErrorPage from \"../admin-error-page/admin-error-page\";\r\nimport AdminCarEditPage from \"../admin-car-edit-page/admin-car-edit-page\";\r\nimport AdminCarsPage from \"../admin-cars-page/admin-cars-page\";\r\nimport AdminCitiesPage from \"../admin-cities-page/admin-cities-page\";\r\n\r\nconst AdminInterfacePage = () => {\r\n  return (\r\n    <div className=\"admin-interface_container\">\r\n      <aside className=\"admin-side-bar\">\r\n        <div className=\"admin-side-bar_header\">\r\n          <img src=\"../assets/logo.svg\" alt=\"logo\" />\r\n          <h3>Need for drive</h3>\r\n        </div>\r\n        <AdminMenu />\r\n      </aside>\r\n      <main className=\"admin-interface_main\">\r\n        <header>\r\n          <span>\r\n            <input type=\"text\" placeholder=\"Поиск ...\" />\r\n          </span>\r\n        </header>\r\n        <Switch>\r\n          <Route exact path=\"/admin/orders\" component={AdminOrdersPage} />\r\n          <Route exact path=\"/admin/cars/:carId\" component={AdminCarEditPage} />\r\n          <Route exact path=\"/admin/cars\" component={AdminCarsPage} />\r\n          <Route exact path=\"/admin/cities\" component={AdminCitiesPage} />\r\n          <Route path=\"/admin/error\" component={AdminErrorPage} />\r\n        </Switch>\r\n        <footer>\r\n          <div>\r\n            <a href=\"#\">Главная страница</a>\r\n            <a href=\"#\">Ссылка</a>\r\n          </div>\r\n          <span>Copyright © 2020 Simbirsoft</span>\r\n        </footer>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminInterfacePage;\r\n","import React from \"react\";\nimport { Route, useHistory } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport { authenticatedSelector } from \"../../store/selectors\";\n\ninterface LoggedInRouteProps {\n  exact?: boolean;\n  path: string;\n  component: React.ComponentType<any>;\n}\n\nconst LoggedInRoute = ({ component: Component }: LoggedInRouteProps) => {\n  const history = useHistory();\n  const isAuthenticated = useSelector(authenticatedSelector);\n  if (!isAuthenticated) {\n    history.push(`/admin/login`);\n  }\n  return <Route render={(otherProps) => <Component {...otherProps} />} />;\n};\n\nexport default LoggedInRoute;\n","import React from \"react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport LoginPage from \"../login-page/login-page\";\r\nimport AdminInterfacePage from \"../admin-interface-page/admin-interface-page\";\r\nimport \"./admin-page.scss\";\r\nimport LoggedInRoute from \"../../routes/logged-in-route\";\r\n\r\nconst AdminPage = () => {\r\n  return (\r\n    <Switch>\r\n      <Route path=\"/admin/login\" component={LoginPage} />\r\n      <LoggedInRoute path=\"/admin\" component={AdminInterfacePage} />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default AdminPage;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store/store\";\r\nimport AdminPage from \"./components/pages/admin-page/admin-page\";\r\nimport { transitions, positions, Provider as AlertProvider } from \"react-alert\";\r\nimport AlertTemplate from \"react-alert-template-basic\";\r\n\r\nconst options = {\r\n  position: positions.TOP_RIGHT,\r\n  timeout: 5000,\r\n  offset: \"30px\",\r\n  transition: transitions.SCALE,\r\n};\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <AlertProvider template={AlertTemplate} {...options}>\r\n        <BrowserRouter basename=\"/car-sharing\">\r\n          <Switch>\r\n            <Route path=\"/admin/\" component={AdminPage} />\r\n            <Route path=\"/\" component={App} />\r\n          </Switch>\r\n        </BrowserRouter>\r\n      </AlertProvider>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}